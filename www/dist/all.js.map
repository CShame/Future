{"version":3,"sources":["app.js","controllers.js","services.js","sha1.js","declareProject/declareServ.js","declareProject/myProject.js","declareProject/register.js","declareProject/verification.js","ProjectData/controller.js","ProjectData/services.js","directive.js","cutoffLine/cutoffLine.js","describeBox/describeBox.js","describeBox/service.js","drawLine/drawLine.js","drawBar/drawBar.js","likemarquee/likemarquee.js","likemarquee/Marquee.js","linkageSelect2/linkageSelect2.js","linkageSelect/linkageSelect.js","multipleSelect/multipleSelect.js","monthOption/monthOption.js","multipleSelectBox/multipleSelectBox.js","mycalendar/mycalendar.js","progressBar/progressBar.js","selectBox/selectBox.js","voiceItems/voiceItems.js","tab1/baseSelect/controller.js","tab1/geolocation/controller.js","tab1/record/controller.js","tab1/config1.js","tab2/config2.js","tab3/config3.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/hCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACldA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["// Ionic Starter App\n\n// angular.module is a global place for creating, registering and retrieving Angular modules\n// 'starter' is the name of this angular module example (also set in a <body> attribute in index.html)\n// the 2nd parameter is an array of 'requires'\n// 'starter.services' is found in services.js\n// 'starter.controllers' is found in controllers.js\nangular.module('starter', ['ionic', 'starter.controllers', 'starter.services','starter.config','starter.directives','ngCordova','ngCordovaBluetoothLE','whcyit-immerse'])\n\n.run([\"$ionicPlatform\", function($ionicPlatform) {\n  $ionicPlatform.ready(function() {\n    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard\n    // for form inputs)\n    if (window.cordova && window.cordova.plugins && window.cordova.plugins.Keyboard) {\n      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\n      cordova.plugins.Keyboard.disableScroll(true);\n\n    }\n    if (window.StatusBar) {\n      // org.apache.cordova.statusbar required\n      StatusBar.overlaysWebView(true);\n      StatusBar.styleDefault();\n    }\n  });\n}])\n\n.config([\"$stateProvider\", \"$urlRouterProvider\", \"$ionicConfigProvider\", function($stateProvider, $urlRouterProvider,$ionicConfigProvider) {\n\n  // Ionic uses AngularUI Router which uses the concept of states\n  // Learn more here: https://github.com/angular-ui/ui-router\n  // Set up the various states which the app can be in.\n  // Each state's controller can be found in controllers.js\n  //android默认tab样式在顶部，设置为底部\n  $ionicConfigProvider.platform.android.tabs.style('standard');\n  $ionicConfigProvider.platform.android.tabs.position('bottom');\n  //设置navbar上标题的位置\n  $ionicConfigProvider.platform.ios.navBar.alignTitle('center');\n  $ionicConfigProvider.platform.android.navBar.alignTitle('center');\n  //设置后退文本为空\n  $ionicConfigProvider.backButton.text('');\n  //根据平台设置返回icon\n  $ionicConfigProvider.platform.ios.backButton.icon('ion-ios-arrow-thin-left');\n  $ionicConfigProvider.platform.android.backButton.icon('ion-ios-arrow-left');\n  //是否启用将上一页面的标题作为本页面返回按钮标题\n  $ionicConfigProvider.backButton.previousTitleText(false);\n  //关闭android端过渡动画效果\n  $ionicConfigProvider.platform.android.views.transition('none');\n\n  $stateProvider\n\n  // setup an abstract state for the tabs directive\n  //   .state('tab', {\n  //   url: '/tab',\n  //   abstract: true,\n  //   templateUrl: 'templates/tabs.html'\n  // })\n  //\n  // .state('tab.account', {\n  //   url: '/account',\n  //   views: {\n  //     'tab-account': {\n  //       templateUrl: 'templates/tab-account.html',\n  //       controller: 'AccountCtrl'\n  //     }\n  //   }\n  // })\n\n  // if none of the above states are matched, use this as the fallback\n  $urlRouterProvider.otherwise('/tab/dash');\n\n}]);\n\nangular.module('starter.controllers', []);\nangular.module('starter.directives', []);\nangular.module('starter.config', [ 'starter.config1','starter.config2','starter.config3']);\n","angular.module('starter.controllers')\n\n  .controller('DashCtrl', [\"$scope\", \"$state\", \"$ionicScrollDelegate\", \"$timeout\", function ($scope, $state, $ionicScrollDelegate, $timeout) {\n\n    $scope.functionPoint = [\n      {name:'下拉框',page:'baseSelect'},\n      {name:'获取经纬度',page:'geoLocation'},\n      {name:'录音',page:'record'}\n    ];\n\n    $scope.goPage = function (pageUrl) {\n      $state.go('tab.'+pageUrl);\n    };\n\n\n    // $scope.recordTitle = '按住录音';\n    //\n    //\n    // function getRecord(src, step) {\n    //   var mediaRec = new Media(src,\n    //     // success callback\n    //     function () {\n    //       console.log(\"recordAudio():Audio Success\", '---' + step);\n    //     },\n    //     // error callback\n    //     function (err) {\n    //       console.log(\"recordAudio():Audio Error: \" + err.code, '---' + step);\n    //     });\n    //   return mediaRec;\n    // }\n    //\n    //\n    // var mediaRec = null;\n    // //开始录音\n    // $scope.startRecord = function () {\n    //   console.log('触发on-hold');\n    //   var src = 'test.mp3';\n    //   if (mediaRec) {\n    //     mediaRec.release();\n    //   }\n    //   console.log(src);\n    //   mediaRec = new Media(src,\n    //     // success callback\n    //     function () {\n    //       console.log(\"recordAudio():startRecord Success\");\n    //     },\n    //     // error callback\n    //     function (err) {\n    //       console.log(\"recordAudio():startRecord Error: \" + err.code);\n    //     });\n    //   // Record audio\n    //   mediaRec.startRecord();\n    // };\n    //\n    // //停止录音并保存\n    // $scope.stopAndSaveRecord = function () {\n    //   console.log('触发on-release');\n    //   $timeout(function () {\n    //     if (mediaRec) {\n    //       mediaRec.stopRecord();\n    //       mediaRec.release();\n    //     }\n    //   }, 0)\n    // };\n    //\n    // //停止录音并取消录音\n    // $scope.cancelRecord = function ($event) {\n    //   console.log('触发向上滑', $event);\n    //\n    //   // $scope.recordTitle = '按住录音';\n    //   //\n    //   // var src = \"2.aac\";\n    //   // var mediaRec = getRecord(src,'cancelRecord');\n    //   // mediaRec.stopRecord();\n    //   // //todo:delete\n    // };\n    //\n    // //播放录音\n    // $scope.playRecord = function () {\n    //   var src = \"test.mp3\";\n    //   if (mediaRec) {\n    //     mediaRec.release();\n    //   }\n    //   mediaRec = new Media(src,\n    //     // success callback\n    //     function () {\n    //       console.log(\"recordAudio():play Success\");\n    //     },\n    //     // error callback\n    //     function (err) {\n    //       console.log(\"recordAudio():play Error: \" + err.code);\n    //     });\n    //   mediaRec.play();\n    // }\n\n  }])\n\n  .controller('ChatsCtrl', [\"$scope\", \"$interval\", \"$timeout\", \"chart\", function ($scope, $interval, $timeout, chart) {\n\n    $scope.dataList = [\n      '通知1：拉拉阿拉啦啦啊啊啊啊啊啊',\n      '通知2：拉拉阿拉啦啦啊啊啊啊啊啊',\n      '通知3：拉拉阿拉啦啦啊啊啊啊啊啊',\n      '通知4：拉拉阿拉啦啦啊啊啊啊啊啊',\n      '通知5：拉拉阿拉啦啦啊啊啊啊啊啊',\n      '通知6：拉拉阿拉啦啦啊啊啊啊啊啊'\n    ];\n    console.log('第一次刷新');\n\n\n    $scope.options = {\n      step: 1,\n      timer: 18\n    };\n    $scope.isChange = false;\n\n    $scope.changeCallback = function () {\n      $scope.isChange = false;\n      console.log(\"变化完成后\", $scope.isChange);\n    };\n\n\n    $timeout(function () {\n      $scope.dataList = [\n        '通知1：拉拉阿拉啦啦啊啊啊啊啊啊',\n        '通知2：拉拉阿拉啦啦啊啊啊啊啊啊',\n        '通知3：拉拉阿拉啦啦啊啊啊啊啊啊',\n      ];\n      console.log('第二次刷新');\n      $timeout(function () {\n        $scope.isChange = true;\n      })\n    }, 5000);\n\n\n    var a = document.getElementById(\"aa\");\n\n    $interval(function () {\n      a.scrollTop += 44;\n    }, 1000);\n\n\n    chart.showPie(\"airportPie\");\n\n\n    $timeout(function () {\n      $scope.percentList = [{p: 80, title: '保养', title1: '已完成', title2: '未完成', data1: '80', data2: '100', unit: '个'},\n        {p: 80, title: '保养', title1: '已完成', title2: '未完成', data1: '70', data2: '100', unit: '个'},\n        {p: 70, title: '保养', title1: '已完成', title2: '未完成', data1: '80', data2: '80', unit: '个'},\n        {p: 60, title: '保养', title1: '已完成', title2: '未完成', data1: '20', data2: '90', unit: '个'},\n        {p: 50, title: '保养', title1: '已完成', title2: '未完成', data1: '10', data2: '100', unit: '个'},\n        {p: 40, title: '保养', title1: '已完成', title2: '未完成', data1: '20', data2: '20', unit: '个'},\n        {p: 30, title: '保养', title1: '已完成', title2: '未完成', data1: '30', data2: '30', unit: '个'},\n        {p: 20, title: '保养', title1: '已完成', title2: '未完成', data1: '40', data2: '50', unit: '个'}\n      ];\n      $scope.percent = 50;\n    }, 1000);\n\n\n    $scope.barList = [\n      {name: '切换', data: '10', per: 83.3},\n      {name: '掉电', data: '6', per: 50},\n      {name: '外场开路', data: '4', per: 33.3},\n      {name: '过流', data: '2', per: 16.7},\n    ]\n\n    $scope.maxY = 12;\n\n\n  }])\n\n\n  .controller('AccountCtrl', [\"$scope\", \"$rootScope\", \"$ionicModal\", \"$http\", \"myNote\", \"$state\", \"$interval\", \"CalenderService\", \"lunarCalendar\", \"$filter\", function ($scope, $rootScope, $ionicModal, $http, myNote, $state, $interval, CalenderService,lunarCalendar,$filter) {\n\n    $scope.dateResult = function (result) {\n      console.log(result);\n    };\n\n    function eventWindowLoaded() {\n      canvasApp();\n    }\n\n    function canvasApp() {\n\n      var theCanvas = document.getElementById('canvasOne');\n      var ctx = theCanvas.getContext('2d');\n      theCanvas.width = window.innerWidth;\n      theCanvas.height = '100';\n\n      $scope.lastPoint = {x: 150, y: theCanvas.height};  //默认最后一个点为底部中间位置\n      var dsq;                                        //计时器变量\n\n      var code = document.getElementById('code'),\n        point,\n        style,\n        drag = null,\n        dPoint;\n\n      // define initial points\n      function init() {\n        point = {\n          p1: {\n            x: -30,\n            y: theCanvas.height\n          },\n          p2: {\n            x: window.innerWidth + 30,\n            y: theCanvas.height\n          },\n          cp1: {\n            x: window.innerWidth * 0.5,\n            y: theCanvas.height\n          }\n        };\n\n        // default styles\n        style = {\n          curve: {\n            width: 1,\n            color: 'transparent'\n          },\n          cpline: {\n            width: 1,\n            color: '#c00'\n          }\n        };\n\n        var contentDiv = document.getElementById('content');\n\n        //event handles\n        contentDiv.addEventListener('touchstart', dragStart, false);\n        contentDiv.addEventListener('touchmove', dragging, false);\n        contentDiv.addEventListener('touchend', dragEnd, false);\n        // theCanvas.addEventListener('mouseout', dragEnd, false);\n\n        drawScreen();\n      }\n\n      var backTransparent = 0.44;\n      var goTransparent = 0.03;\n      var count = 0;\n\n      // draw screen\n      function drawScreen(state) {\n        ctx.clearRect(0, 0, theCanvas.width, theCanvas.height);\n        // curve\n        ctx.lineWidth = style.curve.width;\n        ctx.strokeStyle = style.curve.color;\n\n        ctx.beginPath();\n        ctx.moveTo(point.p1.x, point.p1.y);\n        if (point.cp2) {\n          ctx.bezierCurveTo(point.cp1.x, point.cp1.y, point.cp2.x, point.cp2.y, point.p2.x, point.p2.y);\n        } else {\n          ctx.quadraticCurveTo(point.cp1.x, point.cp1.y, point.p2.x, point.p2.y);\n        }\n        ctx.moveTo(point.p2.x, point.p2.y);\n        ctx.lineTo(point.p1.x, point.p1.y);\n        ctx.stroke();\n        if (state == 'back') {\n          // console.log(backTransparent);\n          backTransparent = backTransparent - 0.01 <= 0.03 ? 0.03 : backTransparent - 0.01;\n          ctx.fillStyle = \"rgba(0,0,0,\" + backTransparent + \")\";\n        } else {\n          console.log(goTransparent);\n          goTransparent = goTransparent + 0.005 >= 0.44 ? 0.44 : goTransparent + 0.005;\n          ctx.fillStyle = \"rgba(0,0,0,\" + goTransparent + \")\";\n        }\n        ctx.fill();\n      }\n\n      // event parser\n      function MousePos(event) {\n        event = event ? event : window.event;\n        // console.log(event);\n\n        return {\n          x: event.touches[0].pageX - theCanvas.offsetLeft,\n          y: event.touches[0].pageY - theCanvas.offsetTop - 44\n        }\n      }\n\n      // start dragging\n      function dragStart(e) {\n        // console.log(e);\n        $scope.startPointY = e.touches[0].pageY;\n        e = MousePos(e);\n        drag = point.cp1;\n        dPoint = e;\n        theCanvas.style.cursor = 'move';\n        if (dsq) {\n          $interval.cancel(dsq);\n          backTransparent = 0.44;\n          goTransparent = 0.03;\n        }\n      }\n\n      function dragging(e) {\n        if (drag) {\n          e = MousePos(e);\n          point.cp1.x += e.x - dPoint.x;\n          point.cp1.y += e.y - dPoint.y;\n          if (point.cp1.x < 100) {\n            point.cp1.x = 100;\n          } else if (point.cp1.x > window.innerWidth - 100) {\n            point.cp1.x = window.innerWidth - 100;\n          }\n          if (point.cp1.y < theCanvas.height - 120) {\n            point.cp1.y = theCanvas.height - 120;\n          }\n          dPoint = e;\n          drawScreen();\n          $scope.lastPoint = point.cp1;\n        }\n      }\n\n      function dragEnd(e) {\n        drag = null;\n        // console.log(dsq);\n        dsq = $interval(function () {\n          point.cp1.x = $scope.lastPoint.x;\n          point.cp1.y = $scope.lastPoint.y;\n          drawScreen('back');\n          $scope.lastPoint.y += 3;\n        }, 16);\n        theCanvas.style.cursor = 'default';\n        backTransparent = goTransparent;\n      }\n\n      $scope.$watch('lastPoint', function (newV) {\n        if (newV && newV.y >= theCanvas.height) {\n          $interval.cancel(dsq);\n          $scope.lastPoint = {x: 150, y: theCanvas.height};\n          drawScreen();\n          backTransparent = 0.44;\n          goTransparent = 0.03;\n        }\n      }, true);\n\n      // drawScreen();\n      init();\n\n    }\n\n\n  }])\n\n\n  //日历服务\n  .factory('CalenderService', [\"lunarCalendar\", function (lunarCalendar) {\n    var _monthday = [];//存放日历\n    var _months = [];//年份下各月天数\n    var monthnum;//当月天数\n    var lastMonth; //上一月天数\n    var nextMounth;//下一月天数\n    return {\n      //初始化某年每月多少天\n      initMonths: function (_year) {\n        for (var i = 1; i <= 12; i++) {\n          var date = new Date(_year, i, 1);\n          _months.push((new Date(date.getTime() - 1000 * 60 * 60 * 24)).getDate());\n        }\n      },\n      //初始化当月，上月，下月天数\n      initLastAndNextMonth: function (_year, _month) {\n        monthnum = new Date(parseInt(_year), parseInt(_month), 0).getDate();\n        if (parseInt(_month) == 1) {\n          lastMonth = new Date(parseInt(_year) - 1, parseInt(12), 0).getDate();\n        } else {\n          lastMonth = new Date(parseInt(_year), parseInt(_month) - 1, 0).getDate();\n        }\n        if (parseInt(_month) == 12) {\n          nextMounth = new Date(parseInt(_year) + 1, parseInt(1), 0).getDate();\n        } else {\n          nextMounth = new Date(parseInt(_year), parseInt(_month) + 1, 0).getDate();\n        }\n      },\n      //初始化日历\n      initCalendar: function (_year, _month, _day) {\n        this.initData();\n        this.initMonths(_year);\n        this.initLastAndNextMonth(_year, _month);\n        var cal = {\n          year: _year,\n          month: _month,\n          day: 0\n        };\n        //本月第一天是周几\n        var firstweek = this.getMonthFirstDayWeek(_year, _month, 1);\n        firstweek = firstweek == 0 ? 7 : firstweek;\n        //上月空余日期填补\n        // for (j = firstweek; j > 0; j--) {  周日开头\n          for (j = firstweek -1; j > 0; j--) {\n          var temp1 = angular.copy(cal);\n          temp1.month = _month - 1 == 0 ? 12 : _month - 1;\n          temp1.year = _month - 1 == 0 ? _year - 1 : _year;\n          temp1.day = lastMonth - j + 1;\n          //加上农历\n          temp1.lunar = lunarCalendar.solar2lunar(temp1.year+1900,temp1.month,temp1.day);\n\n          _monthday.push(temp1);\n        }\n        //本月日期填补\n        for (i = 1; i <= _months[_month - 1]; i++) {\n          var weeknum = this.getMonthWeek(_year, _month, i);\n          var temp2 = angular.copy(cal);\n          temp2.day = i;\n          //加上农历\n          temp2.lunar = lunarCalendar.solar2lunar(_year+1900, _month,temp2.day);\n          _monthday.push(temp2);\n        }\n        //本月最后一天是周几\n        var lastweek = this.getMonthFirstDayWeek(_year, _month, monthnum);\n        //下月空余日期填补\n        // if (lastweek != 6) {                  //周日开头\n        // for (j = 1; j < 7 - lastweek; j++) {  //周日开头\n        if (lastweek != 0) {\n          for (j = 1; j <= 7 - lastweek; j++) {\n            var temp3 = angular.copy(cal);\n            temp3.month = _month + 1 == 13 ? 1 : _month + 1;\n            temp3.year = _month + 1 == 13 ? _year + 1 : _year;\n            temp3.day = j;\n            //加上农历\n            temp3.lunar = lunarCalendar.solar2lunar(temp3.year+1900,temp3.month,temp3.day);\n            _monthday.push(temp3);\n          }\n        }\n        return _monthday;\n      },\n      //判断某一天是周几\n      getMonthFirstDayWeek: function (year, month, day) {\n        var date = new Date(year+1900, month - 1, day);\n        return date.getDay();\n      },\n      //判断某一天是当月的第几周\n      getMonthWeek: function (year, month, day) {\n        var date = new Date(year, parseInt(month) - 1, day);\n        var w = date.getDay();\n        w = w == 0 ? 7 : w;\n        var d = date.getDate();\n        return Math.ceil(\n          (d + 6 - w) / 7\n        );\n      },\n      //重置所有数据\n      initData: function () {\n        _monthday = [];\n        _months = [];\n        monthnum = 0;\n        lastMonth = 0;\n        nextMounth = 0;\n      }\n    }\n  }])\n\n\n  //公里、农历互转\n  .factory('lunarCalendar', function () {\n\n    /**\n     * @1900-2100区间内的公历、农历互转\n     * @charset UTF-8\n     * @Author  Jea杨(JJonline@JJonline.Cn)\n     * @Time    2014-7-21\n     * @Time    2016-8-13 Fixed 2033hex、Attribution Annals\n     * @Time    2016-9-25 Fixed lunar LeapMonth Param Bug\n     * @Version 1.0.2\n     * @公历转农历：calendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]\n     * @农历转公历：calendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]\n     */\n    var calendar  = {\n\n      /**\n       * 农历1900-2100的润大小信息表\n       * @Array Of Property\n       * @return Hex\n       */\n      lunarInfo: [0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2,//1900-1909\n        0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977,//1910-1919\n        0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970,//1920-1929\n        0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950,//1930-1939\n        0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557,//1940-1949\n        0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5b0, 0x14573, 0x052b0, 0x0a9a8, 0x0e950, 0x06aa0,//1950-1959\n        0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0,//1960-1969\n        0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b6a0, 0x195a6,//1970-1979\n        0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570,//1980-1989\n        0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x055c0, 0x0ab60, 0x096d5, 0x092e0,//1990-1999\n        0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5,//2000-2009\n        0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930,//2010-2019\n        0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530,//2020-2029\n        0x05aa0, 0x076a3, 0x096d0, 0x04afb, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45,//2030-2039\n        0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0,//2040-2049\n        /**Add By JJonline@JJonline.Cn**/\n        0x14b63, 0x09370, 0x049f8, 0x04970, 0x064b0, 0x168a6, 0x0ea50, 0x06b20, 0x1a6c4, 0x0aae0,//2050-2059\n        0x0a2e0, 0x0d2e3, 0x0c960, 0x0d557, 0x0d4a0, 0x0da50, 0x05d55, 0x056a0, 0x0a6d0, 0x055d4,//2060-2069\n        0x052d0, 0x0a9b8, 0x0a950, 0x0b4a0, 0x0b6a6, 0x0ad50, 0x055a0, 0x0aba4, 0x0a5b0, 0x052b0,//2070-2079\n        0x0b273, 0x06930, 0x07337, 0x06aa0, 0x0ad50, 0x14b55, 0x04b60, 0x0a570, 0x054e4, 0x0d160,//2080-2089\n        0x0e968, 0x0d520, 0x0daa0, 0x16aa6, 0x056d0, 0x04ae0, 0x0a9d4, 0x0a2d0, 0x0d150, 0x0f252,//2090-2099\n        0x0d520],//2100\n\n      /**\n       * 公历每个月份的天数普通表\n       * @Array Of Property\n       * @return Number\n       */\n      solarMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n\n      /**\n       * 天干地支之天干速查表\n       * @Array Of Property trans[\"甲\",\"乙\",\"丙\",\"丁\",\"戊\",\"己\",\"庚\",\"辛\",\"壬\",\"癸\"]\n       * @return Cn string\n       */\n      Gan: [\"\\u7532\", \"\\u4e59\", \"\\u4e19\", \"\\u4e01\", \"\\u620a\", \"\\u5df1\", \"\\u5e9a\", \"\\u8f9b\", \"\\u58ec\", \"\\u7678\"],\n\n      /**\n       * 天干地支之地支速查表\n       * @Array Of Property\n       * @trans[\"子\",\"丑\",\"寅\",\"卯\",\"辰\",\"巳\",\"午\",\"未\",\"申\",\"酉\",\"戌\",\"亥\"]\n       * @return Cn string\n       */\n      Zhi: [\"\\u5b50\", \"\\u4e11\", \"\\u5bc5\", \"\\u536f\", \"\\u8fb0\", \"\\u5df3\", \"\\u5348\", \"\\u672a\", \"\\u7533\", \"\\u9149\", \"\\u620c\", \"\\u4ea5\"],\n\n      /**\n       * 天干地支之地支速查表<=>生肖\n       * @Array Of Property\n       * @trans[\"鼠\",\"牛\",\"虎\",\"兔\",\"龙\",\"蛇\",\"马\",\"羊\",\"猴\",\"鸡\",\"狗\",\"猪\"]\n       * @return Cn string\n       */\n      Animals: [\"\\u9f20\", \"\\u725b\", \"\\u864e\", \"\\u5154\", \"\\u9f99\", \"\\u86c7\", \"\\u9a6c\", \"\\u7f8a\", \"\\u7334\", \"\\u9e21\", \"\\u72d7\", \"\\u732a\"],\n\n      /**\n       * 24节气速查表\n       * @Array Of Property\n       * @trans[\"小寒\",\"大寒\",\"立春\",\"雨水\",\"惊蛰\",\"春分\",\"清明\",\"谷雨\",\"立夏\",\"小满\",\"芒种\",\"夏至\",\"小暑\",\"大暑\",\"立秋\",\"处暑\",\"白露\",\"秋分\",\"寒露\",\"霜降\",\"立冬\",\"小雪\",\"大雪\",\"冬至\"]\n       * @return Cn string\n       */\n      solarTerm: [\"\\u5c0f\\u5bd2\", \"\\u5927\\u5bd2\", \"\\u7acb\\u6625\", \"\\u96e8\\u6c34\", \"\\u60ca\\u86f0\", \"\\u6625\\u5206\", \"\\u6e05\\u660e\", \"\\u8c37\\u96e8\", \"\\u7acb\\u590f\", \"\\u5c0f\\u6ee1\", \"\\u8292\\u79cd\", \"\\u590f\\u81f3\", \"\\u5c0f\\u6691\", \"\\u5927\\u6691\", \"\\u7acb\\u79cb\", \"\\u5904\\u6691\", \"\\u767d\\u9732\", \"\\u79cb\\u5206\", \"\\u5bd2\\u9732\", \"\\u971c\\u964d\", \"\\u7acb\\u51ac\", \"\\u5c0f\\u96ea\", \"\\u5927\\u96ea\", \"\\u51ac\\u81f3\"],\n\n      /**\n       * 1900-2100各年的24节气日期速查表\n       * @Array Of Property\n       * @return 0x string For splice\n       */\n      sTermInfo: ['9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f',\n        '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n        '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa',\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f',\n        'b027097bd097c36b0b6fc9274c91aa', '9778397bd19801ec9210c965cc920e', '97b6b97bd19801ec95f8c965cc920f',\n        '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd197c36c9210c9274c91aa',\n        '97b6b97bd19801ec95f8c965cc920e', '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2',\n        '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec95f8c965cc920e', '97bcf97c3598082c95f8e1cfcc920f',\n        '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n        '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722',\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f',\n        '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n        '97bcf97c359801ec95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd097bd07f595b0b6fc920fb0722',\n        '9778397bd097c36b0b6fc9210c8dc2', '9778397bd19801ec9210c9274c920e', '97b6b97bd19801ec95f8c965cc920f',\n        '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\n        '97b6b97bd19801ec95f8c965cc920f', '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\n        '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bd07f1487f595b0b0bc920fb0722',\n        '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n        '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f531b0b0bb0b6fb0722',\n        '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n        '97bcf7f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b97bd19801ec9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n        '9778397bd097c36b0b6fc9210c91aa', '97b6b97bd197c36c9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722',\n        '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\n        '97b6b7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\n        '9778397bd097c36b0b70c9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\n        '7f0e397bd097c35b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\n        '7f0e27f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n        '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n        '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n        '97b6b7f0e47f531b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n        '9778397bd097c36b0b6fc9210c91aa', '97b6b7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n        '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '977837f0e37f149b0723b0787b0721',\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c35b0b6fc9210c8dc2',\n        '977837f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\n        '7f0e397bd097c35b0b6fc9210c8dc2', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '977837f0e37f14998082b0787b06bd',\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n        '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n        '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd',\n        '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n        '977837f0e37f14998082b0723b06bd', '7f07e7f0e37f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n        '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b0721',\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f595b0b0bb0b6fb0722', '7f0e37f0e37f14898082b0723b02d5',\n        '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f531b0b0bb0b6fb0722',\n        '7f0e37f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n        '7f0e37f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35',\n        '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n        '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f149b0723b0787b0721',\n        '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0723b06bd',\n        '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722', '7f0e37f0e366aa89801eb072297c35',\n        '7ec967f0e37f14998082b0723b06bd', '7f07e7f0e37f14998083b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n        '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14898082b0723b02d5', '7f07e7f0e37f14998082b0787b0721',\n        '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66aa89801e9808297c35', '665f67f0e37f14898082b0723b02d5',\n        '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66a449801e9808297c35',\n        '665f67f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n        '7f0e36665b66a449801e9808297c35', '665f67f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\n        '7f07e7f0e47f531b0723b0b6fb0721', '7f0e26665b66a449801e9808297c35', '665f67f0e37f1489801eb072297c35',\n        '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722'],\n\n      /**\n       * 数字转中文速查表\n       * @Array Of Property\n       * @trans ['日','一','二','三','四','五','六','七','八','九','十']\n       * @return Cn string\n       */\n      nStr1: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\", \"\\u4e03\", \"\\u516b\", \"\\u4e5d\", \"\\u5341\"],\n\n      /**\n       * 日期转农历称呼速查表\n       * @Array Of Property\n       * @trans ['初','十','廿','卅']\n       * @return Cn string\n       */\n      nStr2: [\"\\u521d\", \"\\u5341\", \"\\u5eff\", \"\\u5345\"],\n\n      /**\n       * 月份转农历称呼速查表\n       * @Array Of Property\n       * @trans ['正','一','二','三','四','五','六','七','八','九','十','冬','腊']\n       * @return Cn string\n       */\n      nStr3: [\"\\u6b63\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\", \"\\u4e03\", \"\\u516b\", \"\\u4e5d\", \"\\u5341\", \"\\u51ac\", \"\\u814a\"],\n\n      /**\n       * 返回农历y年一整年的总天数\n       * @param lunar Year\n       * @return Number\n       * @eg:var count = calendar.lYearDays(1987) ;//count=387\n       */\n      lYearDays: function (y) {\n        var i, sum = 348;\n        for (i = 0x8000; i > 0x8; i >>= 1) {\n          sum += (calendar.lunarInfo[y - 1900] & i) ? 1 : 0;\n        }\n        return (sum + calendar.leapDays(y));\n      },\n\n      /**\n       * 返回农历y年闰月是哪个月；若y年没有闰月 则返回0\n       * @param lunar Year\n       * @return Number (0-12)\n       * @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6\n       */\n      leapMonth: function (y) { //闰字编码 \\u95f0\n        return (calendar.lunarInfo[y - 1900] & 0xf);\n      },\n\n      /**\n       * 返回农历y年闰月的天数 若该年没有闰月则返回0\n       * @param lunar Year\n       * @return Number (0、29、30)\n       * @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29\n       */\n      leapDays: function (y) {\n        if (calendar.leapMonth(y)) {\n          return ((calendar.lunarInfo[y - 1900] & 0x10000) ? 30 : 29);\n        }\n        return (0);\n      },\n\n      /**\n       * 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法\n       * @param lunar Year\n       * @return Number (-1、29、30)\n       * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29\n       */\n      monthDays: function (y, m) {\n        if (m > 12 || m < 1) {\n          return -1\n        }//月份参数从1至12，参数错误返回-1\n        return ( (calendar.lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29 );\n      },\n\n      /**\n       * 返回公历(!)y年m月的天数\n       * @param solar Year\n       * @return Number (-1、28、29、30、31)\n       * @eg:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30\n       */\n      solarDays: function (y, m) {\n        if (m > 12 || m < 1) {\n          return -1\n        } //若参数错误 返回-1\n        var ms = m - 1;\n        if (ms == 1) { //2月份的闰平规律测算后确认返回28或29\n          return (((y % 4 == 0) && (y % 100 != 0) || (y % 400 == 0)) ? 29 : 28);\n        } else {\n          return (calendar.solarMonth[ms]);\n        }\n      },\n\n      /**\n       * 农历年份转换为干支纪年\n       * @param  lYear 农历年的年份数\n       * @return Cn string\n       */\n      toGanZhiYear: function (lYear) {\n        var ganKey = (lYear - 3) % 10;\n        var zhiKey = (lYear - 3) % 12;\n        if (ganKey == 0) ganKey = 10;//如果余数为0则为最后一个天干\n        if (zhiKey == 0) zhiKey = 12;//如果余数为0则为最后一个地支\n        return calendar.Gan[ganKey - 1] + calendar.Zhi[zhiKey - 1];\n\n      },\n\n      /**\n       * 公历月、日判断所属星座\n       * @param  cMonth [description]\n       * @param  cDay [description]\n       * @return Cn string\n       */\n      toAstro: function (cMonth, cDay) {\n        var s = \"\\u9b54\\u7faf\\u6c34\\u74f6\\u53cc\\u9c7c\\u767d\\u7f8a\\u91d1\\u725b\\u53cc\\u5b50\\u5de8\\u87f9\\u72ee\\u5b50\\u5904\\u5973\\u5929\\u79e4\\u5929\\u874e\\u5c04\\u624b\\u9b54\\u7faf\";\n        var arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22];\n        return s.substr(cMonth * 2 - (cDay < arr[cMonth - 1] ? 2 : 0), 2) + \"\\u5ea7\";//座\n      },\n\n      /**\n       * 传入offset偏移量返回干支\n       * @param offset 相对甲子的偏移量\n       * @return Cn string\n       */\n      toGanZhi: function (offset) {\n        return calendar.Gan[offset % 10] + calendar.Zhi[offset % 12];\n      },\n\n      /**\n       * 传入公历(!)y年获得该年第n个节气的公历日期\n       * @param y公历年(1900-2100)；n二十四节气中的第几个节气(1~24)；从n=1(小寒)算起\n       * @return day Number\n       * @eg:var _24 = calendar.getTerm(1987,3) ;//_24=4;意即1987年2月4日立春\n       */\n      getTerm: function (y, n) {\n        if (y < 1900 || y > 2100) {\n          return -1;\n        }\n        if (n < 1 || n > 24) {\n          return -1;\n        }\n        var _table = calendar.sTermInfo[y - 1900];\n        var _info = [\n          parseInt('0x' + _table.substr(0, 5)).toString(),\n          parseInt('0x' + _table.substr(5, 5)).toString(),\n          parseInt('0x' + _table.substr(10, 5)).toString(),\n          parseInt('0x' + _table.substr(15, 5)).toString(),\n          parseInt('0x' + _table.substr(20, 5)).toString(),\n          parseInt('0x' + _table.substr(25, 5)).toString()\n        ];\n        var _calday = [\n          _info[0].substr(0, 1),\n          _info[0].substr(1, 2),\n          _info[0].substr(3, 1),\n          _info[0].substr(4, 2),\n\n          _info[1].substr(0, 1),\n          _info[1].substr(1, 2),\n          _info[1].substr(3, 1),\n          _info[1].substr(4, 2),\n\n          _info[2].substr(0, 1),\n          _info[2].substr(1, 2),\n          _info[2].substr(3, 1),\n          _info[2].substr(4, 2),\n\n          _info[3].substr(0, 1),\n          _info[3].substr(1, 2),\n          _info[3].substr(3, 1),\n          _info[3].substr(4, 2),\n\n          _info[4].substr(0, 1),\n          _info[4].substr(1, 2),\n          _info[4].substr(3, 1),\n          _info[4].substr(4, 2),\n\n          _info[5].substr(0, 1),\n          _info[5].substr(1, 2),\n          _info[5].substr(3, 1),\n          _info[5].substr(4, 2),\n        ];\n        return parseInt(_calday[n - 1]);\n      },\n\n      /**\n       * 传入农历数字月份返回汉语通俗表示法\n       * @param lunar month\n       * @return Cn string\n       * @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='腊月'\n       */\n      toChinaMonth: function (m) { // 月 => \\u6708\n        if (m > 12 || m < 1) {\n          return -1\n        } //若参数错误 返回-1\n        var s = calendar.nStr3[m - 1];\n        s += \"\\u6708\";//加上月字\n        return s;\n      },\n\n      /**\n       * 传入农历日期数字返回汉字表示法\n       * @param lunar day\n       * @return Cn string\n       * @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='廿一'\n       */\n      toChinaDay: function (d) { //日 => \\u65e5\n        var s;\n        switch (d) {\n          case 10:\n            s = '\\u521d\\u5341';\n            break;\n          case 20:\n            s = '\\u4e8c\\u5341';\n            break;\n            break;\n          case 30:\n            s = '\\u4e09\\u5341';\n            break;\n            break;\n          default :\n            s = calendar.nStr2[Math.floor(d / 10)];\n            s += calendar.nStr1[d % 10];\n        }\n        return (s);\n      },\n\n      /**\n       * 年份转生肖[!仅能大致转换] => 精确划分生肖分界线是“立春”\n       * @param y year\n       * @return Cn string\n       * @eg:var animal = calendar.getAnimal(1987) ;//animal='兔'\n       */\n      getAnimal: function (y) {\n        return calendar.Animals[(y - 4) % 12]\n      },\n\n      /**\n       * 传入阳历年月日获得详细的公历、农历object信息 <=>JSON\n       * @param y  solar year\n       * @param m  solar month\n       * @param d  solar day\n       * @return JSON object\n       * @eg:console.log(calendar.solar2lunar(1987,11,01));\n       */\n      solar2lunar: function (y, m, d) { //参数区间1900.1.31~2100.12.31\n        if (y < 1900 || y > 2100) {\n          return -1;\n        }//年份限定、上限\n        if (y == 1900 && m == 1 && d < 31) {\n          return -1;\n        }//下限\n        if (!y) { //未传参  获得当天\n          var objDate = new Date();\n        } else {\n          var objDate = new Date(y, parseInt(m) - 1, d)\n        }\n        var i, leap = 0, temp = 0;\n        //修正ymd参数\n        var y = objDate.getFullYear(), m = objDate.getMonth() + 1, d = objDate.getDate();\n        var offset = (Date.UTC(objDate.getFullYear(), objDate.getMonth(), objDate.getDate()) - Date.UTC(1900, 0, 31)) / 86400000;\n        for (i = 1900; i < 2101 && offset > 0; i++) {\n          temp = calendar.lYearDays(i);\n          offset -= temp;\n        }\n        if (offset < 0) {\n          offset += temp;\n          i--;\n        }\n\n        //是否今天\n        var isTodayObj = new Date(), isToday = false;\n        if (isTodayObj.getFullYear() == y && isTodayObj.getMonth() + 1 == m && isTodayObj.getDate() == d) {\n          isToday = true;\n        }\n        //星期几\n        var nWeek = objDate.getDay(), cWeek = calendar.nStr1[nWeek];\n        if (nWeek == 0) {\n          nWeek = 7;\n        }//数字表示周几顺应天朝周一开始的惯例\n        //农历年\n        var year = i;\n\n        var leap = calendar.leapMonth(i); //闰哪个月\n        var isLeap = false;\n\n        //效验闰月\n        for (i = 1; i < 13 && offset > 0; i++) {\n          //闰月\n          if (leap > 0 && i == (leap + 1) && isLeap == false) {\n            --i;\n            isLeap = true;\n            temp = calendar.leapDays(year); //计算农历闰月天数\n          }\n          else {\n            temp = calendar.monthDays(year, i);//计算农历普通月天数\n          }\n          //解除闰月\n          if (isLeap == true && i == (leap + 1)) {\n            isLeap = false;\n          }\n          offset -= temp;\n        }\n\n        if (offset == 0 && leap > 0 && i == leap + 1)\n          if (isLeap) {\n            isLeap = false;\n          } else {\n            isLeap = true;\n            --i;\n          }\n        if (offset < 0) {\n          offset += temp;\n          --i;\n        }\n        //农历月\n        var month = i;\n        //农历日\n        var day = offset + 1;\n\n        //天干地支处理\n        var sm = m - 1;\n        var gzY = calendar.toGanZhiYear(year);\n\n        //月柱 1900年1月小寒以前为 丙子月(60进制12)\n        var firstNode = calendar.getTerm(year, (m * 2 - 1));//返回当月「节」为几日开始\n        var secondNode = calendar.getTerm(year, (m * 2));//返回当月「节」为几日开始\n\n        //依据12节气修正干支月\n        var gzM = calendar.toGanZhi((y - 1900) * 12 + m + 11);\n        if (d >= firstNode) {\n          gzM = calendar.toGanZhi((y - 1900) * 12 + m + 12);\n        }\n\n        //传入的日期的节气与否\n        var isTerm = false;\n        var Term = null;\n        if (firstNode == d) {\n          isTerm = true;\n          Term = calendar.solarTerm[m * 2 - 2];\n        }\n        if (secondNode == d) {\n          isTerm = true;\n          Term = calendar.solarTerm[m * 2 - 1];\n        }\n        //日柱 当月一日与 1900/1/1 相差天数\n        var dayCyclical = Date.UTC(y, sm, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10;\n        var gzD = calendar.toGanZhi(dayCyclical + d - 1);\n        //该日期所属的星座\n        var astro = calendar.toAstro(m, d);\n\n        return {\n          'lYear': year,\n          'lMonth': month,\n          'lDay': day,\n          'Animal': calendar.getAnimal(year),\n          'IMonthCn': (isLeap ? \"\\u95f0\" : '') + calendar.toChinaMonth(month),\n          'IDayCn': calendar.toChinaDay(day),\n          'cYear': y,\n          'cMonth': m,\n          'cDay': d,\n          'gzYear': gzY,\n          'gzMonth': gzM,\n          'gzDay': gzD,\n          'isToday': isToday,\n          'isLeap': isLeap,\n          'nWeek': nWeek,\n          'ncWeek': \"\\u661f\\u671f\" + cWeek,\n          'isTerm': isTerm,\n          'Term': Term,\n          'astro': astro\n        };\n      },\n\n      /**\n       * 传入农历年月日以及传入的月份是否闰月获得详细的公历、农历object信息 <=>JSON\n       * @param y  lunar year\n       * @param m  lunar month\n       * @param d  lunar day\n       * @param isLeapMonth  lunar month is leap or not.[如果是农历闰月第四个参数赋值true即可]\n       * @return JSON object\n       * @eg:console.log(calendar.lunar2solar(1987,9,10));\n       */\n      lunar2solar: function (y, m, d, isLeapMonth) {   //参数区间1900.1.31~2100.12.1\n        var isLeapMonth = !!isLeapMonth;\n        var leapOffset = 0;\n        var leapMonth = calendar.leapMonth(y);\n        var leapDay = calendar.leapDays(y);\n        if (isLeapMonth && (leapMonth != m)) {\n          return -1;\n        }//传参要求计算该闰月公历 但该年得出的闰月与传参的月份并不同\n        if (y == 2100 && m == 12 && d > 1 || y == 1900 && m == 1 && d < 31) {\n          return -1;\n        }//超出了最大极限值\n        var day = calendar.monthDays(y, m);\n        var _day = day;\n        //bugFix 2016-9-25\n        //if month is leap, _day use leapDays method\n        if (isLeapMonth) {\n          _day = calendar.leapDays(y, m);\n        }\n        if (y < 1900 || y > 2100 || d > _day) {\n          return -1;\n        }//参数合法性效验\n\n        //计算农历的时间差\n        var offset = 0;\n        for (var i = 1900; i < y; i++) {\n          offset += calendar.lYearDays(i);\n        }\n        var leap = 0, isAdd = false;\n        for (var i = 1; i < m; i++) {\n          leap = calendar.leapMonth(y);\n          if (!isAdd) {//处理闰月\n            if (leap <= i && leap > 0) {\n              offset += calendar.leapDays(y);\n              isAdd = true;\n            }\n          }\n          offset += calendar.monthDays(y, i);\n        }\n        //转换闰月农历 需补充该年闰月的前一个月的时差\n        if (isLeapMonth) {\n          offset += day;\n        }\n        //1900年农历正月一日的公历时间为1900年1月30日0时0分0秒(该时间也是本农历的最开始起始点)\n        var stmap = Date.UTC(1900, 1, 30, 0, 0, 0);\n        var calObj = new Date((offset + d - 31) * 86400000 + stmap);\n        var cY = calObj.getUTCFullYear();\n        var cM = calObj.getUTCMonth() + 1;\n        var cD = calObj.getUTCDate();\n\n        return calendar.solar2lunar(cY, cM, cD);\n      }\n    };\n\n    return{\n      solar2lunar:calendar.solar2lunar,\n      lunar2solar:calendar.lunar2solar\n    }\n\n\n\n  })\n\n;\n","angular.module('starter.services', [], [\"$httpProvider\", function ($httpProvider) {\n  // Use x-www-form-urlencoded Content-Type\n  $httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n  var param = function (obj) {\n    var query = '', name, value, fullSubName, subName, subValue, innerObj, i;\n    for (name in obj) {\n      value = obj[name];\n      if (value instanceof Array) {\n        for (i = 0; i < value.length; ++i) {\n          subValue = value[i];\n          fullSubName = name + '[' + i + ']';\n          innerObj = {};\n          innerObj[fullSubName] = subValue;\n          query += param(innerObj) + '&';\n        }\n      }\n      else if (value instanceof Object) {\n        for (subName in value) {\n          subValue = value[subName];\n          fullSubName = name + '[' + subName + ']';\n          innerObj = {};\n          innerObj[fullSubName] = subValue;\n          query += param(innerObj) + '&';\n        }\n      }\n      else if (value !== undefined && value !== null)\n        query += encodeURIComponent(name) + '=' + encodeURIComponent(value) + '&';\n    }\n    return query.length ? query.substr(0, query.length - 1) : query;\n  };\n  // Override $http service's default transformRequest\n  $httpProvider.defaults.transformRequest = [function (data) {\n    return angular.isObject(data) && String(data) !== '[object File]' ? param(data) : data;\n  }];\n}])\n\n\n/*测试环境*/\n  .constant('RequestUrl', 'http://192.168.3.179:999/')\n  .constant('baseUrl', 'http://192.168.3.179:999/App.ashx?Name=EFOS.Master.Business.')\n\n/*发布环境*/\n  // .constant('RequestUrl', 'http://master.eegrid.com/')\n  // .constant('baseUrl', 'http://master.eegrid.com/App.ashx?Name=EFOS.Master.Business.')\n\n  .factory('pathUtil', [function () {\n    return {\n      getBasePath: function (noFile) {\n        var basePath;\n        if (ionic.Platform.isIOS()) {\n          if(noFile === true){\n            basePath = cordova.file.documentsDirectory.replace(\"file://\", \"\");\n          }else{\n            basePath = cordova.file.documentsDirectory;\n          }\n        } else {\n          basePath = cordova.file.externalApplicationStorageDirectory || cordova.file.applicationStorageDirectory;\n        }\n        return basePath;\n      }\n    }\n  }])\n\n  .factory('DateUtil', [function () {\n    return {\n      DateFormat: function () {\n        var date = new Date();\n        var res;\n        var year = date.getFullYear();\n        var Month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hour = date.getHours();\n        var min = date.getMinutes();\n        var sec = date.getSeconds();\n\n        if (Month < 10) {\n          Month = '0' + Month;\n        }\n        if (day < 10) {\n          day = '0' + day;\n        }\n        if (hour < 10) {\n          hour = '0' + hour;\n        }\n        if (min < 10) {\n          min = '0' + min;\n        }\n        if (sec < 10) {\n          sec = '0' + sec;\n        }\n        res = '' + year + Month + day + hour + min + sec;\n        return res;\n      }\n    }\n  }])\n\n  .factory('HttpFactory', [\"$http\", \"$ionicPopup\", \"$ionicLoading\", function ($http, $ionicPopup, $ionicLoading) {\n    var send = function (config) {\n      !!config.scope && (config.scope.loading = true);\n      !!config.mask && $ionicLoading.show({\n        template: typeof config.mask == \"boolean\" ? '请稍等...' : config.mask\n      });\n      config.headers = {'Content-Type': 'application/x-www-form-urlencoded'};\n\n      config.method == 'post' && (config.data = config.data || {});\n      ionic.extend(config, {\n        timeout: 15000\n      });\n      var http = $http(config);\n      http.catch(function (error) {\n        if (error.status == 0) {\n\n        }\n        else if (status == 403) {\n          error.data = {\n            template: '资源不可用'\n          }\n        } else {\n          error.data = {\n            template: '服务器太累了'\n          }\n        }\n        $ionicPopup.alert({\n          title: '错误',\n          template: error.data.template,\n          buttons: [\n            {\n              text: '确定',\n              type: 'button-balanced'\n            }\n          ]\n        });\n      });\n      http.finally(function () {\n        !!config.scope && (config.scope.loading = false);\n        !!config.mask && $ionicLoading.hide();\n      });\n      return http;\n    };\n    return {\n      send: send\n    }\n  }])\n\n  .factory('myNote', [\"$ionicLoading\", \"$timeout\", function ($ionicLoading, $timeout) {\n    return {\n      myNotice: function (msg, timeout, prev, post) {\n        $ionicLoading.show({template: msg});\n        $timeout(function () {\n          prev && prev();\n          $ionicLoading.hide();\n          post && post();\n        }, timeout || 1500);\n        return false;\n      },\n      cancel: function () {\n        $ionicLoading.hide();\n      }\n    }\n  }])\n\n  .factory('CacheFactory', ['$window', function ($window) {\n    var save = function (key, value) {\n      $window.localStorage.setItem(key, typeof value == 'object' ? JSON.stringify(value) : value);\n    };\n    var get = function (key) {\n      return $window.localStorage.getItem(key) || null;\n    };\n    var removeAll = function () {\n      $window.localStorage.removeItem('phone');\n      $window.localStorage.clear();\n    };\n\n    var deleteItem = function (key) {\n      $window.localStorage.removeItem(key);\n    };\n\n    return {\n      save: save,\n      get: get,\n      deleteItem: deleteItem,\n      removeAll: removeAll\n    };\n  }])\n\n  .factory('sendVerification',[\"$q\", \"$http\", function ($q,$http) {\n\n    //发送验证码\n    function sendCode(phone)  {\n      var def = $q.defer();\n      if(IsTel(phone)){\n\n        var CurTime = new Date().getTime();\n        var Nonce = 'ws123';\n        var sha = hex_sha1('6986838d56fd'+Nonce+CurTime);\n\n        $http({\n          url : 'https://api.netease.im/sms/sendcode.action',\n          method:'POST',\n          headers:{\n            'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;',\n            'AppKey' : '9060757f46b0dad794f7ae5be5f52214',\n            'CurTime': CurTime,\n            'CheckSum': sha,\n            'Nonce': Nonce\n          },\n          params:{\n            mobile: phone,\n            templateid: 3056170,\n            codeLen: 4\n          }\n        }).success(function (data) {\n          def.resolve(data);\n        }).error(function (err) {\n          console.log(err);\n          def.resolve('error');\n        });\n      }else{\n        def.resolve('notTel');\n      }\n      return def.promise;\n    }\n\n\n    //正则表达式验证手机号码\n    function IsTel(Tel){\n      var re = new RegExp(/^1[0-9]{10}$/);\n      var retu = re.test(Tel);\n      if(retu){\n        return true;\n      }else{\n        return false;\n      }\n    }\n\n    return{\n      sendCode:sendCode\n    }\n}])\n\n  .factory('fsUtil', ['pathUtil', '$q', '$cordovaFile', '$cordovaFileOpener2', '$cordovaFileTransfer',\n    function (pathUtil, $q, $cordovaFile, $cordovaFileOpener2, $cordovaFileTransfer) {\n      return {\n        download: function (serverPath, downloadPathSuffix) {\n          var options = {};\n          var trustHosts = true;\n          var defer = $q.defer();\n          // var fileTransfer = new FileTransfer();\n          var basePath = pathUtil.getBasePath();\n          var targetPath = basePath + '/' + downloadPathSuffix;\n          $cordovaFileTransfer.download(serverPath, targetPath, options, trustHosts).then(\n            function (result) {\n              defer.resolve(targetPath);\n              console.log(\"下载成功\", result);\n            }, function (error) {\n              console.log(\"下载失败\", error);\n              defer.reject(error);\n            },\n            function (process) {\n              // defer.reject(error);\n            });\n          return defer.promise;\n        },\n        checkFile: function (path, filename) {\n          var defer = $q.defer();\n          window.resolveLocalFileSystemURL(path, function (fileEntry) {\n            $cordovaFile.checkFile(fileEntry.toInternalURL(), filename).then(function () {\n              defer.resolve(true);\n            }, function (error) {\n              defer.resolve(false);\n            });\n          });\n          return defer.promise;\n        },\n        deleteFile: function (src) {\n          var defer = $q.defer();\n          var arr = src.split('/');\n          var filename = arr.pop();\n          var path = arr.join('/') + '/';\n          window.resolveLocalFileSystemURL(path, function (fileEntry) {\n            $cordovaFile.removeFile(fileEntry.toInternalURL(), filename).then(function () {\n              defer.resolve(true);\n            }, function (error) {\n              defer.resolve(false);\n            });\n          });\n          return defer.promise;\n        },\n        openFile: function (targetPath) {\n          var docSuffix = targetPath.slice(2).split(\".\");\n          var type;\n          if (docSuffix[docSuffix.length - 1] == \"doc\") {\n            type = \"application/msword\";\n          } else if (docSuffix[docSuffix.length - 1] == \"docx\") {\n            type = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n          }\n          else if (docSuffix[docSuffix.length - 1] == \"pdf\") {\n            type = \"application/pdf\";\n          } else if (docSuffix[docSuffix.length - 1] == \"xls\") {\n            type = \"application/vnd.ms-excel\";\n          } else if (docSuffix[docSuffix.length - 1] == \"xlsx\") {\n            type = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n          } else if (docSuffix[docSuffix.length - 1] == \"txt\" || docSuffix[docSuffix.length - 1] == \"text\") {\n            type = \"text/plain\";\n          } else if (docSuffix[docSuffix.length - 1] == \"jpg\" || docSuffix[docSuffix.length - 1] == \"gif\" || docSuffix[docSuffix.length - 1] == \"jpeg\" || docSuffix[docSuffix.length - 1] == \"png\") {\n            type = \"image/\" + docSuffix[docSuffix.length - 1];\n          } else if (docSuffix[docSuffix.length - 1] == \"zip\") {\n            type = 'application/zip';\n          } else if (docSuffix[docSuffix.length - 1] == \"ppt\") {\n            type = 'application/vnd.ms-powerpoint';\n          } else if (docSuffix[docSuffix.length - 1] == \"pptx\") {\n            type = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\n          }\n\n          $cordovaFileOpener2.open(targetPath, type)\n            .then(function () {\n              console.log(\"Success!\")\n            }, function (err) {\n              console.log(\"open:\" + err.message);\n            });\n        }\n      }\n    }])\n\n  .factory('CameraUtil', ['$q', '$cordovaFile', 'DateUtil', 'pathUtil', function ($q, $cordovaFile, DateUtil, pathUtil) {\n    //拍照存储\n    function takePhoto(dirName, fileNamePrefix) {\n      var def = $q.defer();\n\n      var pictureSource = navigator.camera.PictureSourceType;\n      var destinationType = navigator.camera.DestinationType;\n\n      navigator.camera.getPicture(onSuccessPic, failure,\n        {\n          quality: 70,\n          destinationType: destinationType.FILE_URI,\n          sourceType: pictureSource.CAMERA,\n          allowEdit: false,\n          targetHeight: 600,\n          targetWidth: 600,\n          correctOrientation: true\n        }\n      );\n\n      function failure(error) {\n        def.reject(error);\n      }\n\n      //照片名称为 时间戳\n      function onSuccessPic(imageURI) {\n        var basePath = pathUtil.getBasePath();\n        var newName = DateUtil.DateFormat() + \".png\";\n        if (fileNamePrefix) {\n          var arr = fileNamePrefix.split('.');\n          if (arr[arr.length - 1] == 'png' || arr[arr.length - 1] == 'jpg') {\n            newName = fileNamePrefix;\n          } else {\n            // newName = fileNamePrefix ? fileNamePrefix + '-' + newName : newName;\n            newName = fileNamePrefix + '-' + newName\n          }\n        }\n        $cordovaFile.checkDir(basePath, dirName)\n          .then(function (success) {\n            // 如果有这个文件夹，则直接实现移动\n            moveFile(imageURI, basePath + dirName + \"/\", newName);\n          }, function (error) {\n            // 如果没有这个文件夹，则先创建再移动\n            $cordovaFile.createDir(basePath, dirName, false)\n              .then(function (success) {\n                moveFile(imageURI, basePath + dirName + \"/\", newName);\n              }, function (error) {\n                def.reject(error);\n              });\n          });\n      };\n\n      //移动文件\n      function moveFile(fileUri, targetPath, newName) {\n        window.resolveLocalFileSystemURL(fileUri, function (fileEntry) {\n          window.resolveLocalFileSystemURL(targetPath, function (dirEntry) {\n              fileEntry.moveTo(dirEntry, newName, function (entry) {\n                //返回文件路径\n                def.resolve(entry.toURL());\n              }, function (error) {\n                // alert(\"移动出错\");\n                def.reject(error);\n              });\n            },\n            function (error) {\n              // alert(\"解析目标路径出错\");\n              def.reject(error);\n            });\n        }, function (error) {\n          // alert(\"解析源路径出错\");\n          def.reject(error);\n        });\n      };\n\n      return def.promise;\n    };\n\n    return {\n      takePhoto: takePhoto\n    }\n\n  }])\n\n\n  .factory('chart', ['$rootScope', function ($rootScope) {\n\n    function getInstance(id) {\n      var node = document.getElementById(id);\n      return node && (echarts.getInstanceByDom(node) || echarts.init(node));\n    }\n\n    // 环图\n    return {\n      showPie: function (id, data) {\n        var element = getInstance(id);\n        var option = {\n          tooltip: {\n            trigger: 'item',\n            formatter: \"{b} <br/>{c} ({d}%)\"\n          },\n          series: [\n            {\n              name: '访问来源',\n              hoverOffset:5,\n              type: 'pie',\n              radius: ['60%', '80%'],\n              avoidLabelOverlap: false,\n              label: {\n                normal: {\n                  show: false,\n                  position: 'center'\n                },\n                emphasis: {\n                  show: false,\n                  textStyle: {\n                    fontSize: '30',\n                    fontWeight: 'bold'\n                  }\n                }\n              },\n              labelLine: {\n                normal: {\n                  show: false\n                }\n              },\n              data: [\n                {value: 24, name: '调光器', itemStyle: {normal: {color: \"#FFCF54\"}}},\n                {value: 8, name: '消防', itemStyle: {normal: {color: \"#FF7777\"}}},\n                {value: 74, name: '其它', itemStyle: {normal: {color: \"#1fb5ff\"}}},\n              ]\n            }\n          ]\n        };\n\n        element.setOption(option, true);\n\n      }\n\n    }\n\n  }])\n;\n","/*  * A Javascript implementation of the Secure Hash Algorithm, SHA-1, as defined  * in FIPS PUB 180-1  * Version 2.1-BETA Copyright Paul Johnston 2000 - 2002.  * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet  * Distributed under the BSD License  * See http://pajhome.org.uk/crypt/md5 for details.  */\n/*  * Configurable variables. You may need to tweak these to be compatible with  * the server-side, but the defaults work in most cases.  */\nvar hexcase = 0;\n/* hex output format. 0 - lowercase; 1 - uppercase     */\nvar b64pad = \"\";\n/* base-64 pad character. \"=\" for strict RFC compliance  */\nvar chrsz = 8;\n/* bits per input character. 8 - ASCII; 16 - Unicode    */\n/*  * These are the functions you'll usually want to call  * They take string arguments and return either hex or base-64 encoded strings  */\nfunction hex_sha1(s) {\n  return binb2hex(core_sha1(str2binb(s), s.length * chrsz));\n}\nfunction b64_sha1(s) {\n  return binb2b64(core_sha1(str2binb(s), s.length * chrsz));\n}\nfunction str_sha1(s) {\n  return binb2str(core_sha1(str2binb(s), s.length * chrsz));\n}\nfunction hex_hmac_sha1(key, data) {\n  return binb2hex(core_hmac_sha1(key, data));\n}\nfunction b64_hmac_sha1(key, data) {\n  return binb2b64(core_hmac_sha1(key, data));\n}\nfunction str_hmac_sha1(key, data) {\n  return binb2str(core_hmac_sha1(key, data));\n}\n/*  * Perform a simple self-test to see if the VM is working  */\nfunction sha1_vm_test() {\n  return hex_sha1(\"abc\") == \"a9993e364706816aba3e25717850c26c9cd0d89d\";\n}\n/*  * Calculate the SHA-1 of an array of big-endian words, and a bit length  */\nfunction core_sha1(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << (24 - len % 32);\n  x[((len + 64 >> 9) << 4) + 15] = len;\n  var w = Array(80);\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n  var e = -1009589776;\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    var olde = e;\n    for (var j = 0; j < 80; j++) {\n      if (j < 16)\n        w[j] = x[i + j];\n      else\n        w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n      var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)), safe_add(safe_add(e, w[j]), sha1_kt(j)));\n      e = d;\n      d = c;\n      c = rol(b, 30);\n      b = a;\n      a = t;\n    }\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n    e = safe_add(e, olde);\n  }\n  return Array(a, b, c, d, e);\n}\n/*  * Perform the appropriate triplet combination function for the current  * iteration  */\nfunction sha1_ft(t, b, c, d) {\n  if (t < 20)\n    return (b & c) | ((~b) & d);\n  if (t < 40)\n    return b ^ c ^ d;\n  if (t < 60)\n    return (b & c) | (b & d) | (c & d);\n  return b ^ c ^ d;\n}\n/*  * Determine the appropriate additive constant for the current iteration  */\nfunction sha1_kt(t) {\n  return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 : (t < 60) ? -1894007588 : -899497514;\n}\n/*  * Calculate the HMAC-SHA1 of a key and some data  */\nfunction core_hmac_sha1(key, data) {\n  var bkey = str2binb(key);\n  if (bkey.length > 16)\n    bkey = core_sha1(bkey, key.length * chrsz);\n  var ipad = Array(16)\n    , opad = Array(16);\n  for (var i = 0; i < 16; i++) {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n  var hash = core_sha1(ipad.concat(str2binb(data)), 512 + data.length * chrsz);\n  return core_sha1(opad.concat(hash), 512 + 160);\n}\n/*  * Add integers, wrapping at 2^32. This uses 16-bit operations internally  * to work around bugs in some JS interpreters.  */\nfunction safe_add(x, y) {\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n/*  * Bitwise rotate a 32-bit number to the left.  */\nfunction rol(num, cnt) {\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n/*  * Convert an 8-bit or 16-bit string to an array of big-endian words  * In 8-bit function, characters >255 have their hi-byte silently ignored.  */\nfunction str2binb(str) {\n  var bin = Array();\n  var mask = (1 << chrsz) - 1;\n  for (var i = 0; i < str.length * chrsz; i += chrsz)\n    bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i % 32);\n  return bin;\n}\n/*  * Convert an array of big-endian words to a string  */\nfunction binb2str(bin) {\n  var str = \"\";\n  var mask = (1 << chrsz) - 1;\n  for (var i = 0; i < bin.length * 32; i += chrsz)\n    str += String.fromCharCode((bin[i >> 5] >>> (24 - i % 32)) & mask);\n  return str;\n}\n/*  * Convert an array of big-endian words to a hex string.  */\nfunction binb2hex(binarray) {\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var str = \"\";\n  for (var i = 0; i < binarray.length * 4; i++) {\n    str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) + hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8)) & 0xF);\n  }\n  return str;\n}\n/*  * Convert an array of big-endian words to a base-64 string  */\nfunction binb2b64(binarray) {\n  var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var str = \"\";\n  for (var i = 0; i < binarray.length * 4; i += 3) {\n    var triplet = (((binarray[i >> 2] >> 8 * (3 - i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4)) & 0xFF);\n    for (var j = 0; j < 4; j++) {\n      if (i * 8 + j * 6 > binarray.length * 32)\n        str += b64pad;\n      else\n        str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);\n    }\n  }\n  return str;\n}\n","/**\n * Created by ws on 2017/4/1.\n */\nangular.module('starter.services')\n  .service('declareServ',[\"HttpFactory\", \"$q\", \"baseUrl\", function (HttpFactory,$q,baseUrl) {\n\n    //是否已经注册\n    function isRegister(OpenId) {\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.IsRegistered',\n        method:'post',\n        data:{\n          OpenId:OpenId\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n      return def.promise;\n    }\n\n    //发验证码\n    function sendValidate( Phone) {\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.ValidatePhone',\n        method:'post',\n        data:{\n          Phone: Phone\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //未注册注册\n    function register(OpenId,Phone,code) {\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url: baseUrl + 'WeChatProjectApplyBLL.Registered',\n        method : 'post',\n        data : {\n          OpenId : OpenId,\n          Phone : Phone,\n          ValidCode : code\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n      return def.promise;\n    }\n\n    //获取项目\n    function getProjects(UserID) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetProjects',\n        method: 'post',\n        data : {\n          UserID:UserID\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n    //设置密码\n    function updatePassword(UserID,Password) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.UpdatePassword',\n        method: 'post',\n        data : {\n          UserID:UserID,\n          Password : Password\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n\n      return def.promise;\n    }\n\n    //获取项目类型--平台\n    function getPlatforms() {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetPlatforms',\n        method: 'post',\n        data : {}\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n    //新增或修改项目信息\n    function addOrUpdateProject(project,UserID) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.AddOrUpdateProject',\n        method: 'post',\n        data : {\n          project :  angular.toJson(project),\n          UserID : UserID\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n    //获取项目系统和房间信息\n    function getSystemRoomInfos(projectCode) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetSystemRoomInfos',\n        method: 'post',\n        data : {\n          projectCode : projectCode\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n\n    //获取房间信息\n    function getRooms(projectCode,SystemCode) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetRooms',\n        method: 'post',\n        data : {\n          projectCode : projectCode,\n          SystemCode : SystemCode\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n    //保存房间信息\n    function addOrUpdateRooms(projectCode,rooms,sysCode) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.AddOrUpdateRooms',\n        method: 'post',\n        data : {\n          projectCode : projectCode,\n          rooms : angular.toJson(rooms),\n          SystemCode:sysCode\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n\n      return def.promise;\n    }\n\n    //获取设备类型及其设备信息\n    function getDeviceTypeDeviceInfos(projectCode,RoomID) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetDeviceTypeDeviceInfos',\n        method: 'post',\n        data : {\n          projectCode : projectCode,\n          RoomID : RoomID\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n    //获取设备类型下设备信息\n    function getDevices(projectCode,DeviceType,roomID) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.GetDevices',\n        method: 'post',\n        data : {\n          projectCode : projectCode,\n          DeviceType : DeviceType,\n          RoomID : roomID\n        }\n      }).success(function (data) {\n        def.resolve(data.data);\n      }).error(function (data) {\n        def.resolve(data.data);\n      });\n\n      return def.promise;\n    }\n\n\n    //保存设备信息\n    function addOrUpdateDevices(projectCode,devices,roomID,deviceType) {\n\n      var def = $q.defer();\n\n      HttpFactory.send({\n        url:  baseUrl + 'WeChatProjectApplyBLL.AddOrUpdateDevices',\n        method: 'post',\n        data : {\n          projectCode : projectCode,\n          devices : angular.toJson(devices),\n          RoomID : roomID,\n          DeviceType : deviceType\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n\n      return def.promise;\n    }\n\n    return{\n      isRegister : isRegister,\n      register : register,\n      getProjects : getProjects,\n      updatePassword : updatePassword,\n      getPlatforms : getPlatforms,\n      addOrUpdateProject : addOrUpdateProject,\n      getSystemRoomInfos : getSystemRoomInfos,\n      getRooms : getRooms,\n      addOrUpdateRooms : addOrUpdateRooms,\n      getDeviceTypeDeviceInfos :getDeviceTypeDeviceInfos,\n      getDevices : getDevices,\n      addOrUpdateDevices : addOrUpdateDevices,\n      sendValidate : sendValidate\n    }\n\n  }]);\n","/**\n * Created by ws on 2017/3/30.\n */\nangular.module('starter.controllers')\n\n  .controller('myProjectCtrl', [\"$scope\", \"$state\", \"CacheFactory\", \"declareServ\", \"$ionicHistory\", function($scope,$state,CacheFactory,declareServ,$ionicHistory) {\n\n    $ionicHistory.clearCache();\n    $ionicHistory.clearHistory();\n\n    $scope.isSetPassword = CacheFactory.get('IsSetPwd');\n\n    var UserID = CacheFactory.get('UserID');\n    declareServ.getProjects(UserID).then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n    });\n\n\n    var height = document.getElementById('addDiv').clientWidth +2+ 'px';\n    $scope.grid_height = {height:height};\n\n\n    $scope.addProject = function () {\n      console.log('add project');\n      $state.go('addProject');\n    };\n\n    $scope.setProject = function (data) {\n      console.log('set project');\n      $state.go('systemList',{'ProjectCode' : data.ProjectCode});\n    };\n\n    $scope.setPassword = function () {\n      console.log('set password');\n      $state.go('setPassword');\n    };\n\n    $scope.operateProject = function(){\n\n    }\n\n\n  }])\n\n  .controller('setPasswordCtrl',[\"$scope\", \"CacheFactory\", \"$state\", \"myNote\", \"$ionicHistory\", \"declareServ\", function ($scope,CacheFactory,$state,myNote,$ionicHistory,declareServ) {\n\n    var userID = CacheFactory.get('UserID');\n\n\n    $scope.user ={\n      phone: CacheFactory.get('phone'),\n      password : '',\n      checkPassword :''\n    };\n\n    $scope.finishPasswordSet = function () {\n      if(!$scope.user.password){\n        myNote.myNotice('密码不能为空');\n      }else if($scope.user.password != $scope.user.checkPassword){\n        myNote.myNotice('密码输入不一致，请重新输入');\n        $scope.user.password = '';\n        $scope.user.checkPassword = '';\n      }else{\n        declareServ.updatePassword(userID,$scope.user.password).then(function (data) {\n          if(!!data) {\n            CacheFactory.save('IsSetPwd', true);\n            $ionicHistory.goBack(-1);\n          }else{\n            myNote.myNotice('密码设置失败，请重新设置');\n          }\n        });\n      }\n    };\n\n  }])\n\n\n\n  .controller('addProjectCtrl',[\"$scope\", \"CacheFactory\", \"$state\", \"myNote\", \"$ionicHistory\", \"declareServ\", function ($scope,CacheFactory,$state,myNote,$ionicHistory,declareServ) {\n\n\n    declareServ.getPlatforms().then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n\n      $scope.project = {\n        ProjectName : '',\n        Address :'南山区嘉达研发大楼',\n        PlatformCode : $scope.dataList[0].PlatformCode\n      };\n    });\n\n\n    $scope.finishAdd = function () {\n      //数据库成功过添加后返回到我的项目界面\n      declareServ.addOrUpdateProject($scope.project,CacheFactory.get('UserID')).then(function (data) {\n        console.log(data);\n        if(!!data.Flag) {\n          $ionicHistory.goBack(-1);\n        }\n      });\n    }\n\n  }])\n\n\n\n  .controller('systemListCtrl',[\"$scope\", \"CacheFactory\", \"$state\", \"myNote\", \"$ionicHistory\", \"$stateParams\", \"declareServ\", function ($scope,CacheFactory,$state,myNote,$ionicHistory,$stateParams,declareServ){\n\n    var PCode = $stateParams.ProjectCode;\n\n\n    declareServ.getSystemRoomInfos(PCode).then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n\n      var height = document.getElementById('page').clientWidth/4 + 'px';\n      $scope.grid_style = {height:height};\n\n      for(var k = 0;k< $scope.dataList.length;k++) {\n        if ($scope.dataList[k].ListInfos.length > 0) {\n          var len = $scope.dataList[k].ListInfos.length % 4;\n          if (len == 0) {\n            len = 4;\n          }\n          var index = $scope.dataList[k].ListInfos.length - 1;\n          for (var i = 0; i < len; i++) {\n            $scope.dataList[k].ListInfos[index].IsSpecialContent = true;\n            index--;\n          }\n        }\n      }\n\n    });\n\n\n\n    $scope.addRoom = function (data) {\n\n      console.log('go添加房间界面');\n      $state.go('addRoom',{'RoomName' : data.RoomName,'SystemCode' :data.SystemCode,'projectCode' : PCode,'SystemName':data.SystemName});\n\n    };\n\n    $scope.addDevice = function (room) {\n      console.log('go设备类型列表界面');\n      $state.go('deviceList',{'RoomID':room.RoomID,'ProjectCode':PCode,'RoomName':room.RoomName});\n    };\n\n  }])\n\n\n  .controller('deviceListCtrl',[\"$scope\", \"CacheFactory\", \"$state\", \"myNote\", \"declareServ\", \"$stateParams\", function ($scope,CacheFactory,$state,myNote,declareServ,$stateParams){\n\n    var PCode = $stateParams.ProjectCode;\n    var roomID = $stateParams.RoomID;\n    var roomName = $stateParams.RoomName;\n\n    declareServ.getDeviceTypeDeviceInfos(PCode,roomID).then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n\n      var height = document.getElementById('page').clientWidth/4 + 'px';\n      $scope.grid_style = {height:height};\n\n      for(var k = 0;k< $scope.dataList.length;k++) {\n        if ($scope.dataList[k].ListInfos.length > 0) {\n          var len = $scope.dataList[k].ListInfos.length % 4;\n          if (len == 0) {\n            len = 4;\n          }\n          var index = $scope.dataList[k].ListInfos.length - 1;\n          for (var i = 0; i < len; i++) {\n            $scope.dataList[k].ListInfos[index].IsSpecialContent = true;\n            index--;\n          }\n        }\n      }\n    });\n\n\n    //增加设备\n    $scope.addRoom = function (data) {\n      console.log(data);\n      $state.go('addDevice',{'projectCode': PCode,'DeviceType':data.DeviceType,'TypeName':data.TypeName,'RoomID':roomID});\n    };\n\n    $scope.addDevice = function () {\n      console.log('此处是尽头');\n    }\n\n  }])\n\n\n  .controller('addRoomCtrl',[\"$scope\", \"$ionicHistory\", \"myNote\", \"$stateParams\", \"declareServ\", function ($scope,$ionicHistory,myNote,$stateParams,declareServ){\n\n    var PCode =  $stateParams.projectCode;\n    var sysCode = $stateParams.SystemCode;\n    var symbolName = $stateParams.RoomName;\n    var systemName = $stateParams.SystemName;\n\n    declareServ.getRooms(PCode,sysCode).then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n    });\n\n\n    $scope.deleteItem =function (index) {\n      $scope.dataList.splice(index,1);\n    };\n\n    $scope.addItem = function () {\n      $scope.dataList = addItem($scope.dataList);\n      console.log($scope.dataList);\n    };\n\n    $scope.finishAdd = function () {\n      var valid = true;\n      for(var i = 0;i<$scope.dataList.length;i++){\n        if($scope.dataList[i].RoomName == '')\n          valid = false;\n      }\n      if(valid) {\n        declareServ.addOrUpdateRooms(PCode, $scope.dataList, sysCode).then(function (data) {\n          console.log(data);\n          if (!!data) {\n            $ionicHistory.goBack(-1);\n          } else {\n            myNote.myNotice('添加房间失败', 2000);\n          }\n        });\n      }else{\n        myNote.myNotice('房间名不能为空');\n      }\n    };\n\n    //增加行\n    function addItem(arr) {\n      var newItem = {\n        RoomID : 0,\n        RoomName : '1#' + (symbolName || '房'),\n        SystemCode : sysCode\n      };\n\n      if(arr.length != 0) {\n        var a = arr[arr.length - 1].RoomName.split('#');\n        if (a.length == 2) {\n          newItem.RoomName = parseInt(a[0]) + 1 + \"#\" + trim(a[1]);\n          arr.push(newItem);\n        }else if(a.length == 1){\n          newItem.RoomName = 1 + \"#\" + trim(a[0]);\n          arr.push(newItem);\n        } else {\n          myNote.myNotice('请输入正确的格式，房号#房间类型', 3000);\n        }\n      }else{\n        arr.push(newItem);\n      }\n\n      return arr;\n    }\n\n    //删除左右两端的空格\n    function trim(str) {\n      return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    }\n\n  }])\n\n\n  .controller('addDeviceCtrl',[\"$scope\", \"$state\", \"myNote\", \"declareServ\", \"$stateParams\", \"$ionicHistory\", function ($scope,$state,myNote,declareServ,$stateParams,$ionicHistory){\n\n    var PCode = $stateParams.projectCode;\n    var deviceType = $stateParams.DeviceType;\n    var typeName = $stateParams.TypeName;\n    var roomID = $stateParams.RoomID;\n\n    declareServ.getDevices(PCode,deviceType,roomID).then(function (data) {\n      console.log(data);\n      $scope.dataList = data;\n    });\n\n    $scope.deleteItem =function (index) {\n      $scope.dataList.splice(index,1);\n    };\n\n\n    $scope.addItem = function () {\n      $scope.dataList = addItem($scope.dataList);\n      console.log($scope.dataList);\n    };\n\n    $scope.finishAdd = function () {\n      declareServ.addOrUpdateDevices(PCode,$scope.dataList,roomID,deviceType).then(function (data) {\n        console.log(data);\n        if(!!data){\n          $ionicHistory.goBack(-1);\n        }else{\n          myNote.myNotice('添加设备失败',2000);\n        }\n      });\n\n    };\n\n    function addItem(arr) {\n      var newItem = {\n        DeviceID  : 0,\n        DeviceName  : '1#' + (typeName || '设备'),\n        DeviceType  : deviceType,\n        RoomID : roomID,\n        IsDisplay : 'true',\n        IsImportant : 'false',\n        Sort : 0\n      };\n\n      if(arr.length != 0) {\n        var a = arr[arr.length - 1].DeviceName.split('#');\n        if (a.length == 2) {\n          newItem.DeviceName = parseInt(a[0]) + 1 + \"#\" + trim(a[1]);\n          arr.push(newItem);\n        }else if(a.length == 1){\n          newItem.DeviceName = 1 + \"#\" + trim(a[0]);\n          arr.push(newItem);\n        } else {\n          myNote.myNotice('请输入正确的格式，设备号#设备类型', 3000);\n        }\n      }else{\n        arr.push(newItem);\n      }\n\n      return arr;\n    }\n\n    //删除左右两端的空格\n    function trim(str) {\n      return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    }\n\n  }])\n\n;\n","/**\n * Created by ws on 2017/3/30.\n */\nangular.module('starter.controllers')\n  .controller('registerCtrl', [\"$scope\", \"$ionicModal\", \"myNote\", \"sendVerification\", \"$state\", \"CacheFactory\", \"declareServ\", function($scope,$ionicModal,myNote,sendVerification,$state,CacheFactory,declareServ) {\n\n    $scope.isRegister = false;\n\n    //todo: 获取openId\n    var openId = 'CShame4';\n\n    declareServ.isRegister(openId).then(function (data) {\n      console.log(data);\n      if(!!data.Flag){\n        CacheFactory.save('UserID',data.UserID);\n        CacheFactory.save('phone',data.Phone);\n       $state.go('myProject');\n      }else{\n        $scope.isRegister = true;\n      }\n    });\n\n    $scope.phone = {\n      telNumber : null\n    };\n\n\n    $scope.resetPhone = function () {\n      console.log($scope.phone.telNumber);\n      $scope.phone.telNumber = \"\";\n    };\n\n\n    //打开模型;\n    $scope.openModal = function (url){\n      if(IsTel($scope.phone.telNumber)) {\n        $ionicModal.fromTemplateUrl(\n          url,\n          {\n            scope: $scope,\n            animation: 'fade-in'\n          }).then(function (modal) {\n          $scope.modal = modal;\n          $scope.modal.show();\n        });\n      }else{\n        myNote.myNotice('请输入合法的电话号码',2000);\n        $scope.resetPhone();\n      }\n    };\n\n    //关闭模型\n    $scope.cancel = function () {\n      $scope.modal.hide();\n      $scope.modal.remove();\n    };\n\n    //确认发送验证码\n    $scope.ok = function () {\n      //关闭模型\n      $scope.cancel();\n      //发送验证码\n      if(IsTel($scope.phone.telNumber)) {\n        if (openId != '') {\n          $state.go('verification', { 'phone': $scope.phone.telNumber, 'openId': openId });\n        } else {\n          myNote.myNotice('请检查您的网络');\n        }\n      }else{\n        myNote.myNotice('请输入合法的电话号码',2000);\n      }\n    };\n\n    //正则表达式验证手机号码\n    function IsTel(Tel){\n      var re = new RegExp(/^1[0-9]{10}$/);\n      var retu = re.test(Tel);\n      if(retu){\n        return true;\n      }else{\n        return false;\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2017/3/30.\n */\nangular.module('starter.controllers')\n\n  .controller('verificationCtrl', [\"$scope\", \"$ionicModal\", \"myNote\", \"sendVerification\", \"$stateParams\", \"$state\", \"declareServ\", \"CacheFactory\", function($scope,$ionicModal,myNote,sendVerification,$stateParams,$state,declareServ,CacheFactory) {\n\n    $scope.getCode = true;\n\n    $scope.user = {\n      telNumber :$stateParams.phone,\n      code : null\n    };\n\n    var openId = $stateParams.openId;\n\n    //进页面就发验证码\n    // declareServ.sendValidate($scope.user.telNumber).then(function (data) {\n    //   console.log(data);\n    // });\n\n    //开始计时60s\n    startClock(10);\n\n    //重置验证码\n    $scope.resetCode = function () {\n      console.log($scope.user.code);\n      $scope.user.code = \"\";\n    };\n\n    //打开模型\n    $scope.openModal = function (url){\n      $ionicModal.fromTemplateUrl(\n        url,\n        {\n          scope: $scope,\n          animation: 'fade-in'\n        }).then(function (modal) {\n        $scope.modal = modal;\n        $scope.modal.show();\n      });\n    };\n\n    //关闭模型\n    $scope.cancel = function () {\n      $scope.modal.remove();\n    };\n\n    /*======================定时器======================*/\n    var count = 0;\n    var interval = [];\n     interval[count] = setInterval(function () {\n      $scope.$apply(updateClock);\n      console.log($scope.clock);\n    }, 1000);\n\n    function updateClock() {\n      $scope.clock --;\n      if( $scope.clock <= 0){\n        clearInterval(interval[count]);\n        $scope.getCode = false;\n      }\n    }\n\n    function startClock(time) {\n      $scope.clock =time;\n      updateClock();\n    }\n\n    /*===============================================*/\n\n\n\n    //提交\n    $scope.finishVerified = function () {\n      declareServ.register(openId,$scope.user.telNumber,$scope.user.code).then(function (data) {\n        console.log(data);\n        if(data.Flag == true){\n          CacheFactory.save('UserID',data.UserID);\n          $state.go('myProject');\n        }else if(data.Msg && data.Msg <= '0'){\n          myNote.myNotice('验证码错误',2000);\n          clearInterval(interval[count]);\n          $scope.getCode = false;\n          $scope.resetCode();\n        }else{\n          myNote.myNotice('注册出错，请检查你的网络',2000);\n          clearInterval(interval[count]);\n          $scope.getCode = false;\n        }\n      });\n    };\n\n\n    //重新发送验证码\n    $scope.reSendCode = function () {\n      count++;\n      interval[count] = setInterval(function () {\n        $scope.$apply(updateClock);\n        console.log($scope.clock);\n      }, 1000);\n      startClock(10);\n      $scope.getCode = true;\n      // declareServ.sendValidate($scope.user.telNumber).then(function (data) {\n      //   if(!!data) {\n      //     //开始计时60s\n      //     var interval = setInterval(function () {\n      //       $scope.$apply(updateClock);\n      //       console.log($scope.clock);\n      //     }, 1000);\n      //     startClock(60);\n      //     $scope.getCode = true;\n      //   }else{\n      //     myNote.myNotice('验证码发送失败，请重新发送');\n      //   }\n      // });\n    };\n\n\n    //离开本界面的时候停止计时器\n    $scope.$on('$destroy', function () {\n      console.log('离开了');\n      if(angular.isDefined(interval)) {\n        clearInterval(interval);\n      }\n    });\n  }]);\n","/**\n * Created by ws on 2017/8/23.\n */\nangular.module('starter.controllers')\n\n  .controller('projectDataCtrl', [\"$scope\", \"$state\", \"CacheFactory\", \"$ionicHistory\", function($scope,$state,CacheFactory,$ionicHistory) {\n    $scope.goNext = function (id) {\n      switch (id) {\n        case 1:\n          $state.go('tab.architecture');\n              break;\n        case 2:\n          $state.go('tab.wuguan');\n          break;\n      }\n    }\n  }])\n\n\n  .controller('architectureCtrl', [\"$scope\", \"$state\", \"$timeout\", \"projDataServ\", function($scope,$state,$timeout,projDataServ) {\n\n    //楼龄参数值'BulidAge'\n    //建筑类型参数值'BulidType'\n\n\n    $scope.isShowBuilderList = false;\n\n    $scope.architecture = {\n      ProjectCode : 7, //项目id\n      Address: '',         //位置\n      Acreage: null,       //建筑面积\n      BulidAge:null,       //楼龄\n      BulidCount:null,     //楼栋数\n      CompanyName:'',       //开发商名称\n      BulidType:'',         //建筑类型\n      HouseCount:null       //户数\n    };\n\n    $scope.LayoutImage = null;\n\n    projDataServ.getProjectBulidInfo($scope.architecture.ProjectCode).then(function (data) {\n      console.log(data.data);\n      $scope.architecture.Address = data.data.Address;\n      $scope.architecture.Acreage = data.data.Acreage;\n      $scope.architecture.BulidAge = data.data.BulidAge;\n      $scope.architecture.BulidCount = data.data.BulidCount;\n      $scope.architecture.CompanyName = data.data.CompanyName;\n      $scope.architecture.BulidType = data.data.BulidType;\n      $scope.architecture.HouseCount = data.data.HouseCount;\n    });\n\n\n    $scope.BuliderList = [];\n\n    //请求所有开发商数据并存在服务中以便后面的模糊查询\n    projDataServ.getAllBulider().then(function (data) {\n      $scope.BuliderList = data.data;\n      console.log($scope.BuliderList );\n    });\n\n\n    $scope.buildingAge = {\n      list: [],\n      title: \"请选择楼龄\"\n    };\n    //获取楼龄列表\n    projDataServ.getDimensionByCode('BulidAge').then(function (data) {\n      console.log(data.data);\n      $scope.buildingAge.list = data.data;\n      $scope.buildingAge.value = $scope.architecture.BulidAge;\n    });\n\n\n\n    $scope.buildType = {\n      list: [],\n      title: \"请选择建筑类型\"\n    };\n    //获取建筑类型列表\n    projDataServ.getDimensionByCode('BulidType').then(function (data) {\n      console.log(data.data);\n      $scope.buildType.list = data.data;\n      $scope.buildType.value = $scope.architecture.BulidType;\n\n    });\n\n\n    $scope.getBuilderList = function () {\n      $scope.isShowBuilderList = true;\n    };\n\n    $scope.getBuilder = function (data) {\n      console.log(data);\n      $scope.architecture.CompanyName = data.CompanyName;\n      $scope.isShowBuilderList = false;\n    };\n\n    $scope.closeBuilderList = function () {\n      $scope.isShowBuilderList = false;\n    };\n\n\n\n    $scope.submitArchitectureData = function () {\n      $scope.architecture.BulidAge = $scope.buildingAge.value;\n      $scope.architecture.BulidType = $scope.buildType.value;\n\n      console.log($scope.architecture);\n      console.log($scope.LayoutImage);\n\n      projDataServ.saveProjectBulidInfo($scope.architecture,$scope.LayoutImage).then(function (data) {\n        console.log(data);\n      })\n\n    };\n\n\n\n    $scope.chooseFile = function() {\n       $timeout(function () {\n         document.getElementById('uploadImg').click();\n       });\n    };\n\n\n    /*---------------------------------------------------------------*/\n    $scope.reader = new FileReader();   //创建一个FileReader接口\n\n    //提交图片的函数\n    $scope.img_upload = function(files) {\n      $scope.thumb = {};      //用于存放图片的base64\n      $scope.reader.readAsDataURL(files[0]);  //FileReader的方法，把图片转成base64\n      $scope.reader.onload = function(ev) {\n        $scope.$apply(function(){\n          $scope.thumb.imgSrc = ev.target.result;\n        });\n      };\n\n      //todo:上传图片到服务端\n      $scope.LayoutImage = files[0];\n      // var data = new FormData();      //以下为像后台提交图片数据\n      // data.append('image', files[0]);\n      // data.append('guid',$scope.guid);\n      // $http({\n      //   method: 'post',\n      //   url: '/comm/test-upload.php?action=success',\n      //   data:data,\n      //   headers: {'Content-Type': undefined},\n      //   transformRequest: angular.identity\n      // }).success(function(data) {\n      //   if (data.result_code == 'SUCCESS') {\n      //     $scope.form.image[data.guid] = data.result_value;\n      //     $scope.thumb[data.guid].status = 'SUCCESS';\n      //     console.log($scope.form)\n      //   }\n      //   if(data.result_code == 'FAIL'){\n      //     console.log(data)\n      //   }\n      // })\n    };\n\n\n\n\n  }])\n\n\n  .controller('wuguanCtrl',[\"$scope\", \"projDataServ\", function ($scope,projDataServ) {\n\n    $scope.isShowCompanyList = false;\n\n    $scope.CompanyList = [];\n\n    $scope.wuguan = {\n      ProjectCode:7,\n      CompanyName : '',\n      PowerFee:'',\n      PropertyFee:'',\n      WaterFee:''\n    };\n\n    projDataServ.getPropertyManaInfo($scope.wuguan.ProjectCode).then(function (data) {\n      console.log(data.data);\n      $scope.wuguan.ProjectCode = data.data.ProjectCode;\n      $scope.wuguan.CompanyName = data.data.CompanyName;\n      $scope.wuguan.PowerFee = data.data.PowerFee;\n      $scope.wuguan.PropertyFee = data.data.PropertyFee;\n      $scope.wuguan.WaterFee = data.data.WaterFee;\n    });\n\n\n    projDataServ.getPropertyMana().then(function (data) {\n      console.log(data.data);\n      $scope.CompanyList = data.data;\n    });\n\n    $scope.getWuguanCompanyList = function () {\n      $scope.isShowCompanyList = true;\n    };\n\n    $scope.getCompany = function (data) {\n      console.log(data);\n      $scope.wuguan.CompanyName = data.CompanyName;\n    };\n\n    $scope.closeCompanyList = function () {\n      $scope.isShowCompanyList = false;\n    };\n\n    $scope.submitData = function () {\n      console.log($scope.wuguan);\n      projDataServ.savePropertyManaInfo($scope.wuguan).then(function (data) {\n        console.log(data);\n      })\n    }\n  }])\n;\n\n","/**\n * Created by ws on 2017/8/24.\n */\nangular.module('starter.services')\n  .factory('projDataServ',[\"HttpFactory\", \"$q\", \"baseUrl\", function (HttpFactory,$q,baseUrl) {\n\n    //获取项目初始化信息\n    function getProjectBulidInfo(pcode){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.GetProjectBulidInfo',\n        method:'post',\n        data:{\n          ProjectCode:pcode\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //获取开发商下拉列表\n    function getAllBulider(){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.GetDeveloper',\n        method:'post'\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //获取建筑类型下拉列表\n    function getDimensionByCode(Code){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.GetDimensionByCode',\n        method:'post',\n        data:{\n          Code:Code\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //获取物管公司下拉列表\n    function getPropertyMana(){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.GetPropertyMana',\n        method:'post'\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //保存项目建筑信息\n    function saveProjectBulidInfo(model,LayoutImage){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.SaveProjectBulidInfo',\n        method:'post',\n        data:{\n          model:angular.toJson(model),\n          LayoutImage:angular.toJson(LayoutImage)\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //获取物管信息\n    function getPropertyManaInfo(ProjectCode){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.GetPropertyManaInfo',\n        method:'post',\n        data:{\n          ProjectCode:ProjectCode\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n    //保存物管信息\n    function savePropertyManaInfo(model){\n\n      var def = $q.defer();\n      HttpFactory.send({\n        url:  baseUrl + 'ProjectInfoBLL.SavePropertyManaInfo',\n        method:'post',\n        data:{\n          model:angular.toJson(model)\n        }\n      }).success(function (data) {\n        def.resolve(data);\n      }).error(function (data) {\n        def.resolve(data);\n      });\n      return def.promise;\n    }\n\n\n\n    return {\n      getAllBulider:getAllBulider,\n      getProjectBulidInfo:getProjectBulidInfo,\n      getDimensionByCode:getDimensionByCode,\n      getPropertyMana:getPropertyMana,\n      saveProjectBulidInfo:saveProjectBulidInfo,\n      getPropertyManaInfo:getPropertyManaInfo,\n      savePropertyManaInfo:savePropertyManaInfo\n    }\n\n\n  }]);\n","/**\n * Created by ws on 2018/7/5.\n */\nangular.module('starter.controllers')\n  .directive('marquee',['$timeout','$interval',function ($timeout,$interval) {\n\n    return{\n      restrict: 'A',\n      scope:{\n        options:'=',\n        isChange:'=',\n        changeCallback:'&'\n      },\n      link: function (scope, element,attr) {\n        /**\n        * options [obj]\n         * 属性 step  [int] 每一步滚动距离\n         * 属性 timer [int] 频率\n         * 属性\n        * */\n        var ele = element[0] ;\n        var obj = {};\n        obj.step = scope.options.step || 1;\n        obj.timer = scope.options.timer || 18;\n\n        var maxScroll;\n\n        //禁止手动滚动\n        ele.ontouchstart = function(){ return false;};\n\n        $timeout(function () {\n          maxScroll = ele.scrollWidth - window.innerWidth;\n          console.log('变化前的滚动区域',maxScroll);\n          $interval(function () {\n            if(ele.scrollLeft<maxScroll){\n              ele.scrollLeft += obj.step;\n            }else{\n              ele.scrollLeft = 0;\n            }\n          },obj.timer);\n        });\n\n        scope.$watch('isChange',function (newV,oldV) {\n          if(newV != oldV && newV==true){\n            $timeout(function () {\n              maxScroll = ele.scrollWidth - window.innerWidth;\n              console.log('变化后的滚动区域',maxScroll);\n              scope.changeCallback();\n              console.log('1111');\n            });\n          }\n        })\n      }\n    }\n  }])\n\n  .directive('repeatFinish',function(){\n    return {\n      link: function(scope,element,attr){\n        console.log(scope.$index)\n        if(scope.$last == true){\n          console.log('ng-repeat执行完毕')\n          scope.$eval( attr.repeatFinish )\n        }\n      }\n    }\n  })\n\n\n  .directive('drawPie',function(){\n    return {\n      restrict: 'A',\n      scope:{\n        lineWidth:'@',\n        percent:'=',\n        bgColor:'@',\n        levelColor:'@'\n      },\n      link: function (scope, element,attr) {\n\n        if(!scope.bgColor){\n          scope.bgColor = \"#E8F7FF\";\n        }\n        if(!scope.levelColor){\n          scope.levelColor = \"#1fb5ff\";\n        }\n\n        if(!attr.height){\n          console.log(\"height属性不能为空\");\n          return;\n        }\n        if(!attr.width){\n          console.log(\"width属性不能为空\");\n          return;\n        }\n        if(!scope.lineWidth){\n          console.log(\"lineWidth属性不能为空\");\n          return;\n        }\n\n        console.log(\"11111\",attr.width,attr.height,scope.percent);\n\n        scope.$watch(\"percent\",function (newV,oldV) {\n          if(newV!=oldV && newV){\n            drawCircle(scope.percent);\n          }\n        });\n\n        function drawCircle(value) {\n          var canvas = element[0];\n          var endAngles = parseFloat(value) * 0.02 * Math.PI - Math.PI / 2;\n          var eleHeight = 100;\n\n          if (canvas.getContext) {\n            var ctx = canvas.getContext(\"2d\");\n            ctx.beginPath();\n            ctx.strokeStyle = scope.bgColor;\n            ctx.lineWidth = scope.lineWidth;\n            ctx.lineCap = 'round';\n            var circle = {\n              x: eleHeight * 0.5,                   //圆心的x轴坐标值\n              y: eleHeight * 0.5,                   //圆心的y轴坐标值\n              r: eleHeight * 0.5 - scope.lineWidth*0.5    //圆的半径\n            };\n            //画背景圆环\n            ctx.arc(circle.x, circle.y, circle.r, -Math.PI / 2, 1.5*Math.PI, false);\n            ctx.stroke();\n\n            //画上层圆环\n            ctx.beginPath();\n            ctx.strokeStyle = scope.levelColor;\n            ctx.arc(circle.x, circle.y, circle.r, -Math.PI / 2, endAngles, false);\n            ctx.stroke();\n          }\n        }\n      }\n  }\n\n  })\n\n  .directive('drawLine2',function(){\n    return {\n      restrict: 'AE',\n      template:'<div ng-style=\"drawLineStyle.bgStyle\">' +\n      '<div  ng-style=\"drawLineStyle.fullStyle\"></div>' +\n      '<div style=\"position: absolute;font-size: 9px;color:#fff;background:rgba(38,42,53,0.5);padding:3px;border-radius: 3px\" ng-style=\"drawLineStyle.box\">' +\n      '<p>{{tooltipTitle}}</p><p></p></div>' +\n      '</div>',\n      replace:true,\n      scope:{\n        lineWidth:'@',\n        percent:'=',\n        bgColor:'@',\n        levelColor:'@',\n        tooltipTitle:'=',\n        tooltipTitle1:'=',\n        tooltipTitle2:'=',\n        tooltipData1:'=',\n        tooltipData2:'=',\n        tooltipUnit:'='\n      },\n      link: function (scope, element,attr) {\n\n        console.log(scope.tooltipTitle);\n        console.log(scope.tooltipData1);\n        console.log(scope.tooltipData2);\n\n        if(scope.tooltipTitle && scope.tooltipData1  &&scope.tooltipData2) {\n          element[0].addEventListener(\"touchstart\", function (event) {\n            console.log(event);\n            scope.drawLineStyle.box = {\n              \"left\": event.targetTouches[0].pageX + 'px',\n              \"display\": \"block\"\n            }\n          });\n\n          element[0].addEventListener(\"touchmove\", function (event) {\n            console.log(event);\n            scope.drawLineStyle.box = {\n              \"left\": event.targetTouches[0].pageX + 'px',\n              \"display\": \"block\"\n            }\n          });\n\n          element[0].addEventListener(\"touchend\", function (event) {\n            scope.drawLineStyle.box = {\n              \"display\": \"none\"\n            }\n          });\n        }\n\n        if(!scope.bgColor){\n          scope.bgColor = \"#E8F7FF\";\n        }\n        if(!scope.levelColor){\n          scope.levelColor = \"linear-gradient(to right,#1692FC,#1fb5ff)\";\n        }\n\n        scope.drawLineStyle = {};\n\n        scope.$watch(\"percent\",function (newV,oldV) {\n          if(newV){\n            drawLine();\n          }\n        });\n\n        function drawLine() {\n          scope.drawLineStyle.bgStyle = {\n            \"background\":scope.bgColor,\n            \"width\":\"100%\",\"height\":scope.lineWidth+\"px\",\n            \"border-top-right-radius\": scope.lineWidth+\"px\",\n            \"border-bottom-right-radius\": scope.lineWidth+\"px\",\n            \"position\":\"relative\"\n          };\n          scope.drawLineStyle.fullStyle = {\n            \"background\":scope.levelColor,\n            \"width\":scope.percent+\"%\",\n            \"height\":scope.lineWidth+\"px\",\n            \"border-top-right-radius\": scope.lineWidth+\"px\",\n            \"border-bottom-right-radius\": scope.lineWidth+\"px\"\n          };\n\n          scope.drawLineStyle.box = {\n            \"display\":\"none\"\n          }\n        }\n      }\n    }\n\n  })\n\n\n;\n","/**\n * Created by ws on 2017/11/27.\n */\nangular.module('starter.controllers')\n  .service('cutoffLineService', [function () {\n    var _this = this;\n    //页面中选择器数量 default : 0\n    _this.globalId = 0;\n    return _this;\n  }])\n\n  .directive('cutoffLine', ['$timeout', 'cutoffLineService','$interval',function ($timeout, cutoffLineService,$interval) {\n\n      return {\n        restrict: 'AE',\n        replace:false,\n        templateUrl: 'directives/cutoffLine/page.html',\n        scope: {\n\n        },\n        link: function (scope,element) {\n\n          scope.globalId = ++cutoffLineService.globalId;\n\n          // canvasApp();\n          $timeout(function () {\n            canvasApp();\n          },1000);\n          function canvasApp() {\n\n            var theCanvas = document.getElementById('canvasOne_' + scope.globalId );\n            console.log(theCanvas);\n            var ctx = theCanvas.getContext('2d');\n            theCanvas.width = window.innerWidth;\n            theCanvas.height = '100';\n\n            scope.lastPoint = {x:theCanvas.width*0.5,y:theCanvas.height};  //默认最后一个点为底部中间位置\n            var dsq;                                        //计时器变量\n\n            var point,style,dPoint;\n            var drag = null;\n\n\n            // define initial points\n            function init() {\n              point = {\n                p1: {\n                  x: -30,\n                  y: theCanvas.height\n                },\n                p2: {\n                  x: window.innerWidth + 30,\n                  y: theCanvas.height\n                },\n                cp1:{\n                  x: window.innerWidth * 0.5,\n                  y: theCanvas.height\n                }\n              };\n\n              // default styles\n              style = {\n                curve: {\n                  width: 1,\n                  color: 'transparent'\n                },\n                cpline: {\n                  width: 1,\n                  color: '#c00'\n                }\n              };\n\n              // var contentDiv = document.getElementById('content');\n\n\n              //event handles\n              element[0].addEventListener('touchstart', dragStart, false);\n              element[0].addEventListener('touchmove', dragging, false);\n              element[0].addEventListener('touchend', dragEnd, false);\n              // theCanvas.addEventListener('mouseout', dragEnd, false);\n\n              drawScreen();\n            }\n\n            var backTransparent = 0.44;\n            var goTransparent = 0.03;\n\n            // draw screen\n            function drawScreen(state) {\n              ctx.clearRect(0, 0, theCanvas.width, theCanvas.height);\n              // curve\n              ctx.lineWidth = style.curve.width;\n              ctx.strokeStyle = style.curve.color;\n\n              ctx.beginPath();\n              ctx.moveTo(point.p1.x, point.p1.y);\n              if (point.cp2) {\n                ctx.bezierCurveTo(point.cp1.x, point.cp1.y, point.cp2.x, point.cp2.y, point.p2.x, point.p2.y);\n              } else {\n                ctx.quadraticCurveTo(point.cp1.x, point.cp1.y, point.p2.x, point.p2.y);\n              }\n              ctx.moveTo(point.p2.x, point.p2.y);\n              ctx.lineTo(point.p1.x, point.p1.y);\n              ctx.stroke();\n              if(state == 'back'){\n                // console.log(backTransparent);\n                backTransparent = backTransparent - 0.01 <= 0.03 ? 0.03 : backTransparent - 0.01 ;\n                ctx.fillStyle = \"rgba(0,0,0,\"+backTransparent+\")\";\n              }else {\n                console.log(goTransparent);\n                goTransparent = goTransparent + 0.005 >= 0.44 ? 0.44 : goTransparent + 0.005 ;\n                ctx.fillStyle = \"rgba(0,0,0,\"+goTransparent+\")\";\n              }\n              ctx.fill();\n            }\n\n            // event parser\n            function MousePos(event) {\n              event = event ? event : window.event;\n              // console.log(event);\n\n              return {\n                x: event.touches[0].pageX - theCanvas.offsetLeft,\n                y: event.touches[0].pageY - theCanvas.offsetTop - 44\n              }\n            }\n\n            // start dragging\n            function dragStart(e) {\n              // console.log(e);\n              scope.startPointY = e.touches[0].pageY;\n              e = MousePos(e);\n              drag = point.cp1;\n              dPoint = e;\n              theCanvas.style.cursor = 'move';\n              if(dsq){\n                $interval.cancel(dsq);\n                backTransparent = 0.44;\n                goTransparent = 0.03;\n              }\n            }\n\n            function dragging(e) {\n              if (drag) {\n                e = MousePos(e);\n                point.cp1.x += e.x - dPoint.x;\n                point.cp1.y += e.y - dPoint.y;\n                if(point.cp1.x < 100 ){\n                  point.cp1.x = 100;\n                }else if(point.cp1.x >  window.innerWidth -100){\n                  point.cp1.x =   window.innerWidth -100;\n                }\n                if(point.cp1.y < theCanvas.height - 120){\n                  point.cp1.y = theCanvas.height - 120;\n                }\n                dPoint = e;\n                drawScreen();\n                scope.lastPoint = point.cp1;\n              }\n            }\n\n            function dragEnd(e) {\n              drag = null;\n              // console.log(dsq);\n              dsq = $interval(function () {\n                point.cp1.x = scope.lastPoint.x;\n                point.cp1.y = scope.lastPoint.y;\n                drawScreen('back');\n                scope.lastPoint.y += 3;\n              }, 16);\n              theCanvas.style.cursor = 'default';\n              backTransparent = goTransparent;\n            }\n\n            scope.$watch('lastPoint', function (newV) {\n              if (newV && newV.y >= theCanvas.height) {\n                $interval.cancel(dsq);\n                scope.lastPoint = {x:150,y:theCanvas.height};\n                drawScreen();\n                backTransparent = 0.44;\n                goTransparent = 0.03;\n              }\n            }, true);\n\n            // drawScreen();\n\n            init();\n\n          }\n\n        }\n      }\n    }])\n;\n","/**\n * Created by ws on 2018/3/7.\n */\nangular.module('starter.directives')\n  .directive('describeBox', ['$interval', '$ionicModal', '$timeout', 'pathUtil', 'CameraUtil', 'recordServ','myNote','fsUtil',\n    function ($interval, $ionicModal, $timeout, pathUtil, CameraUtil, recordServ,myNote,fsUtil) {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/describeBox/page.html',\n      scope: {\n        describeContent: '='\n      },\n      link: function (scope, element) {\n        /**\n         * ----------------------------------------------\n         * describeContent : [obj]  指令双向绑定的描述信息\n         *    + title    : [string] 文字信息\n         *    + voiceList: [array]  语音数组\n         *         + time: [string] 语音时长\n         *         + recordName:[string] 语音资源路径\n         *    + photoList: [array]  照片信息\n         *         +url  :  [string] 图片路径\n         * ----------------------------------------------\n         * */\n          // scope.describeContent = {\n          //   title: '',\n          //   voiceList: [],\n          //   photoList:[]\n          // };\n        var mediaRec;\n        var recordStartTime;\n        var recordStopTime;\n        var isStartedVoice = false;\n\n        scope.saveRecord = true;\n        scope.contentOpen = true;\n        scope.recordTitle = '按住说话';\n\n        scope.openOrClose = function () {\n          scope.contentOpen = !scope.contentOpen;\n        };\n\n        scope.oStyle = {\n          modalStyle: {}\n        };\n\n        var interval = null;\n        var timeInterval = null;\n        scope.autoTextArea = function (obj) {\n          timeInterval = $interval(function () {\n            // console.log(obj);\n            obj.target.style.height = obj.target.scrollHeight + 'px';\n            //todo:行减少的时候高度没有减少\n          }, 200);\n        };\n        scope.clearAuto = function () {\n          if (timeInterval) {\n            $interval.cancel(timeInterval);\n          }\n        };\n\n        var voiceInterval = null;\n\n        /**\n         * 播放本条语音的动画\n         * */\n        scope.playVoice = function (data) {\n          if (voiceInterval) {\n            $interval.cancel(voiceInterval);\n          }\n          //停止其它语音\n          for (var j = 0; j < scope.describeContent.voiceList.length; j++) {\n            scope.describeContent.voiceList[j].haoroomsStyle = {\"background-position\": \"0px 0px\"};\n          }\n          //播放本条语音\n          var i = 0;\n          voiceInterval = $interval(frameAnmi, 300);\n          function frameAnmi() {\n            if (i > 4) {\n              i = 0;\n            }\n            data.haoroomsStyle = {\"background-position\": \"-\" + i * 20 + \"px 0px\"};\n            i++;\n          }\n\n          playThisVoice(data.recordName);\n          //语音播放完之后动画停止\n          $timeout(function () {\n            if (voiceInterval) {\n              $interval.cancel(voiceInterval);\n            }\n            data.haoroomsStyle = {\"background-position\": \"0px 0px\"};\n            mediaRec.stop();\n            mediaRec.release();\n            mediaRec = null;\n          }, data.time * 1000);\n        };\n        /**\n         * 播放音频文件\n         * */\n        function playThisVoice(src) {\n          console.log('play path:',src);\n          mediaRec = new Media(src,\n            // success callback\n            function () {\n              console.log(\"recordAudio():play Success\");\n            },\n            // error callback\n            function (err) {\n              console.log(\"recordAudio():play Error: \" + err.code);\n            });\n          mediaRec.play();\n        }\n\n        /**\n         * 打开录音界面\n         * */\n        $ionicModal.fromTemplateUrl(\n          'directives/describeBox/recordModal.html',\n          {\n            scope: scope,\n            animation: 'fade-in'\n          }).then(function (modal) {\n          scope.modal = modal;\n        });\n        scope.openRecord = function () {\n          scope.saveRecord = true;\n          scope.modal.show();\n        };\n        scope.closeRecordModal = function () {\n          if (scope.modal) {\n            scope.modal.hide();\n            // scope.modal.remove();\n          }\n          scope.recordTitle = '按住说话';\n        };\n\n        /**\n         * 打开相机\n         * */\n        scope.openCamera = function () {\n          if (scope.describeContent.photoList && scope.describeContent.photoList.length >= 2) {\n            myNote.myNotice('最多只能拍两张照片');\n            return;\n          }\n          CameraUtil.takePhoto('temp').then(function (data) {\n            var photo = {};\n            photo.url = data;\n            scope.describeContent.photoList.push(photo);\n          });\n        };\n\n        /**\n         * 开始录音\n         * */\n        scope.startRecord = function () {\n          scope.noBroke = false;\n          scope.recordTitle = '松开保存';\n          try {\n            var src = pathUtil.getBasePath(true) + new Date().getTime();\n            if (cordova.platformId === 'android') {\n              src += '.mp3';\n            } else {\n              src += '.m4a';\n            }\n            if (mediaRec) {\n              mediaRec.release();\n            }\n            console.log(src);\n            mediaRec = new Media(src,\n              // success callback\n              function () {\n                console.log(\"recordAudio():startRecord Success\");\n              },\n              // error callback\n              function (err) {\n                console.log(\"recordAudio():startRecord Error: \" + err.code);\n              });\n            // Record audio\n            mediaRec.startRecord();\n            isStartedVoice = true;\n            loadAnimation();\n            scope.describeContent.voiceList.push({recordName: src});\n            recordStartTime = new Date().getTime();\n            return false;\n          }catch (err){\n            console.log(err);\n          }\n        };\n\n        /**\n         * saveRecord 为true时，停止录音并保存\n         * */\n        scope.stopAndSaveRecord = function () {\n          if(!isStartedVoice){\n            return;\n          }\n          isStartedVoice = false;\n\n          if(mediaRec){\n            mediaRec.stopRecord();\n            mediaRec.release();\n          }\n          // stopAnimation();\n          mediaRec = null;\n          if (scope.saveRecord === true) {\n            console.log('停止录音并保存');\n            recordStopTime = new Date().getTime();\n            afterSaveRecord();\n          } else {\n            console.log('停止录音并且不保存');\n            var deleteVoice = scope.describeContent.voiceList.splice(scope.describeContent.voiceList.length - 1, 1);\n            scope.saveRecord = true;\n            //delete record source\n            fsUtil.deleteFile(deleteVoice.recordName)\n          }\n          // scope.closeRecordModal();\n          scope.noBroke = true;\n        };\n\n\n        /**\n         * 没调用此方法表示弹出框等意外中断\n         * */\n        scope.recordBroke = function () {\n          if(!scope.noBroke){\n            $timeout(function () {\n              if(mediaRec){\n                mediaRec.stopRecord();\n                mediaRec.release();\n              }\n            },1000);\n            scope.describeContent.voiceList.splice(scope.describeContent.voiceList.length - 1, 1);\n          }else{\n            scope.closeRecordModal();\n          }\n          stopAnimation();\n        };\n\n        /**\n         * 设置scope.saveRecord为false,不保存停止录音\n         * */\n        scope.cancelRecord = function () {\n          if (scope.saveRecord === true) {\n            scope.saveRecord = false;\n          }\n        };\n        /**\n         * 设置scope.saveRecord为true,恢复录音\n         * */\n        scope.returnRecord = function () {\n          if (scope.saveRecord === false) {\n            scope.saveRecord = true;\n          }\n        };\n\n        /**\n         * 删除本条语音\n         * */\n        scope.deleteRecord = function (data, index) {\n          var deleteVoice = scope.describeContent.voiceList.splice(index, 1);\n          //delete record source\n          fsUtil.deleteFile(deleteVoice.recordName)\n        };\n\n        function afterSaveRecord() {\n          var currentVoice = scope.describeContent.voiceList[scope.describeContent.voiceList.length - 1];\n          currentVoice.time = parseInt((recordStopTime - recordStartTime) / 1000) + 1;\n          currentVoice.eachVoiceWidth = {width: 55 + currentVoice.time * 5 + 'px'};\n        }\n\n\n        //加载动画\n        function loadAnimation() {\n          var j = 0;\n          interval = $interval(frameAnmi, 300);\n          function frameAnmi() {\n            if (j > 5) {\n              j = 0;\n            }\n            scope.oStyle.modalStyle = {\"background-position\": \"-\" + j * 64 + \"px 0px\"};\n            j++;\n          }\n        }\n\n        function stopAnimation() {\n          $timeout(function () {\n            if (interval) {\n              $interval.cancel(interval);\n            }\n            scope.oStyle.modalStyle = {\"background-position\": \"0px 0px\"};\n          })\n        }\n\n        scope.$watch('describeContent.title', function (newVal, oldVal) {\n          if (newVal && newVal != oldVal) {\n            if (newVal.length > 60) {\n              myNote.myNotice('不能超过60个字');\n              scope.describeContent.title = newVal.substr(0, 60);\n            }\n          }\n        });\n\n      }\n    }\n  }])\n\n  .directive('recordBtn', ['$ionicGesture','$timeout',function ($ionicGesture,$timeout) {\n    return {\n      restrict: 'A',\n      scope: {\n        recordHold: '&',\n        recordBroke:'&',\n        recordRelease: '&'\n      },\n      link: function (scope, element) {\n\n        $ionicGesture.on('hold', function () {\n          console.log('$ionicGesture hold');\n          scope.recordHold();\n        }, element);\n\n        $ionicGesture.on('touchend', function () {\n          // 比release先触发,弹出意外窗口时，不会触发此事件\n          console.log('$ionicGesture touchend');\n          scope.recordRelease();\n        }, element);\n\n        $ionicGesture.on('release', function () {\n          console.log(\"$ionicGesture release\");\n          scope.recordBroke();\n        }, element);\n\n      }\n    }\n  }])\n;\n","/**\n * Created by ws on 2018/3/7.\n */\nangular.module('starter.services')\n  .service('recordServ',[function () {\n\n  }])\n;\n","/**\n * Created by ws on 2018/7/17.\n */\nangular.module('starter.controllers')\n  .directive('drawLine',[function(){\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/drawLine/page.html',\n      replace:true,\n      scope:{\n        lineWidth:'@',\n        percent:'=',\n        bgColor:'@',\n        levelColor:'@',\n        tooltipTitle:'=',\n        tooltipTitle1:'=',\n        tooltipTitle2:'=',\n        tooltipData1:'=',\n        tooltipData2:'=',\n        tooltipUnit:'='\n      },\n      link: function (scope, element,attr) {\n\n        console.log(scope.tooltipTitle);\n        console.log(scope.tooltipData1);\n        console.log(scope.tooltipData2);\n\n        if(scope.tooltipTitle && scope.tooltipData1  &&scope.tooltipData2) {\n          element[0].addEventListener(\"touchstart\", function (event) {\n            element[0].getElementsByClassName(\"tooltip\")[0].style.display = \"block\";\n            element[0].getElementsByClassName(\"tooltip\")[0].style.left = event.targetTouches[0].pageX - getLeft(element[0]) + getScrollLeft(element[0]) + 'px';\n            element[0].getElementsByClassName(\"tooltip\")[0].style.top = event.targetTouches[0].pageY - getTop(element[0]) + getScrollTop(element[0]) + element[0].offsetTop -60+ 'px';\n          });\n\n          element[0].addEventListener(\"touchmove\", function (event) {\n            console.log(event);\n            event.preventDefault();\n            computePosition(event);\n          });\n\n          element[0].addEventListener(\"touchend\", function (event) {\n            element[0].getElementsByClassName(\"tooltip\")[0].style.display = \"none\";\n          });\n        }\n\n        //获取元素的纵坐标（相对于窗口）\n        function getTop(e){\n          var offset=e.offsetTop;\n          if(e.offsetParent!=null) offset+=getTop(e.offsetParent);\n          return offset;\n        }\n\n        //获取元素的横坐标（相对于窗口）\n        function getLeft(e){\n          var offset=e.offsetLeft;\n          if(e.offsetParent!=null) offset+=getLeft(e.offsetParent);\n          return offset;\n        }\n\n        //获取滚动的高度\n        function getScrollTop(e) {\n          var offset = e.scrollTop;\n          if(e.offsetParent!=null) offset+=getScrollTop(e.offsetParent);\n          return offset;\n        }\n\n        //获取滚动的宽度\n        function getScrollLeft(e) {\n          var offset = e.scrollLeft;\n          if(e.offsetParent!=null) offset+=getScrollLeft(e.offsetParent);\n          return offset;\n        }\n\n\n        function computePosition(event) {\n          var div = element[0];\n          console.log(getTop(div));\n          var x=event.targetTouches[0].clientX + getScrollLeft(element[0]);\n          var y=event.targetTouches[0].clientY + getScrollTop(element[0]);\n          var divx1 = getLeft(div);\n          var divy1 = getTop(div) - 5;\n          var divx2 = divx1 + div.offsetWidth;\n          var divy2 = getTop(div) + div.offsetHeight + 5;\n          console.log(y,divy1,divy2);\n          if( x < divx1 || x > divx2 || y < divy1 || y > divy2){\n            console.log('out');\n            element[0].getElementsByClassName(\"tooltip\")[0].style.display = \"none\";\n          }else{\n            console.log('in');\n            element[0].getElementsByClassName(\"tooltip\")[0].style.display = \"block\";\n            element[0].getElementsByClassName(\"tooltip\")[0].style.left = event.targetTouches[0].pageX - getLeft(element[0]) + getScrollLeft(element[0]) + 'px';\n            element[0].getElementsByClassName(\"tooltip\")[0].style.top = event.targetTouches[0].pageY - getTop(element[0]) + getScrollTop(element[0]) + element[0].offsetTop -60+ 'px';\n          }\n        };\n\n\n        if(!scope.bgColor){\n          scope.bgColor = \"#E8F7FF\";\n        }\n        if(!scope.levelColor){\n          scope.levelColor = \"linear-gradient(to right,#1692FC,#1fb5ff)\";\n        }\n\n        scope.drawLineStyle = {};\n\n        scope.$watch(\"percent\",function (newV,oldV) {\n          if(newV){\n            drawLine();\n          }\n        });\n\n        function drawLine() {\n          scope.drawLineStyle.bgStyle = {\n            \"background\":scope.bgColor,\n            \"width\":\"100%\",\"height\":scope.lineWidth+\"px\",\n            \"border-top-right-radius\": scope.lineWidth+\"px\",\n            \"border-bottom-right-radius\": scope.lineWidth+\"px\",\n          };\n          scope.drawLineStyle.fullStyle = {\n            \"background\":scope.levelColor,\n            \"width\":scope.percent+\"%\",\n            \"height\":scope.lineWidth+\"px\",\n            \"border-top-right-radius\": scope.lineWidth+\"px\",\n            \"border-bottom-right-radius\": scope.lineWidth+\"px\"\n          };\n\n          scope.drawLineStyle.box = {\n            \"display\":\"none\"\n          }\n        }\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2018/7/18.\n */\n/**\n * Created by ws on 2018/7/17.\n */\nangular.module('starter.controllers')\n  .directive('drawBar',[function(){\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/drawBar/page.html',\n      replace: true,\n      scope: {\n        barList:'=',\n        lineWidth:'@',\n        bgColor:'@',\n        fullColor:'@',\n        keyWordPer:'@',\n        keyWordData:'@',\n        keyWordName:'@',\n        maxY:\"=\"\n      },\n      link: function (scope, element, attr) {\n\n        if(scope.maxY){\n          var min = scope.maxY/3;\n          scope.yLine = [scope.maxY,min*2,min,0];\n        }else{\n          scope.yLine = [12,8,4,0];\n        }\n\n        if(!scope.bgColor){\n          scope.bgColor = \"#E8F7FF\";\n        }\n        if(!scope.fullColor){\n          scope.fullColor = \"linear-gradient(to top, rgb(22, 146, 252), rgb(31, 181, 255));\"\n        }\n        if(!scope.lineWidth){\n          scope.lineWidth = 6;\n        }\n\n        scope.drawBarStyle = {};\n\n        scope.drawBarStyle.bg = {\n          \"width\":scope.lineWidth+\"px\",\n          \"border-top-left-radius\":scope.lineWidth*0.5 + \"px\",\n          \"border-top-right-radius\":scope.lineWidth*0.5+\"px\"\n        };\n\n        scope.$watch(\"barList\",function (newV,oldV) {\n          if(newV && newV.length > 0){\n            scope.barList.forEach(function (each) {\n              each.fullStyle = {\n                \"width\":scope.lineWidth+\"px\",\n                \"height\":(scope.keyWordPer ?each[scope.keyWordPer]:(each[scope.keyWordData]*100/scope.maxY).toFixed(1)) + \"%\",\n                \"border-top-left-radius\":scope.lineWidth*0.5 + \"px\",\n                \"border-top-right-radius\":scope.lineWidth*0.5 + \"px\"\n              }\n            })\n          }\n        });\n\n        scope.showThisTooltip = function (index) {\n          element[0].getElementsByClassName(\"tooltip\")[index].style.display = \"block\";\n        };\n\n        scope.hideThisTooltip = function (index) {\n          element[0].getElementsByClassName(\"tooltip\")[index].style.display = \"none\";\n        };\n\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2017/12/22.\n */\nangular.module('starter.controllers')\n.directive('like-marquee', ['$timeout', '$ionicScrollDelegate', 'linkageSelectService', '$ionicModal',\n  function ($timeout, $ionicScrollDelegate, linkageSelectService, $ionicModal) {\n\n  return {\n    restrict: 'E',\n    templateUrl: 'directives/likemarquee/page.html',\n    scope: {\n      options: \"=\",\n\n    },\n    link: function (scope,element) {\n\n    }\n  }\n}]);\n","/****************************************************************\n - Marquee.js\n - 参数：\n - ID：滚动对象（必须）\n - Direction：滚动方向（\"top\": 0, \"up\": 0, \"bottom\": 1, \"down\": 1, \"left\": 2, \"right\": 3）\n - Step：步伐\n - Width：宽度\n - Height：高度\n - Timer：影响步伐滚动速度\n - DelayTime：延时时间\n - WaitTime：初始化时的等待时间\n - ScrollStep：卷页步伐\n *****************************************************************/\nfunction Marquee(obt) {\n  if (obt == null || obt == \"\") {\n    return;\n  }\n\n  this.ID = document.getElementById(obt.ID);\n  if (!this.ID) {\n    alert(\"初始化错误\\r\\n请检查标签id设置是否正确!\");\n    this.id = -1;\n    return;\n  }\n\n  this.Direction = this.Width = this.Height = this.DelayTime = this.WaitTime = this.CTL = this.StartID = this.Stop = this.MouseOver = 0;\n  this.Step = 1;\n  this.Timer = 30;\n  this.DirectionArray = { \"top\": 0, \"up\": 0, \"bottom\": 1, \"down\": 1, \"left\": 2, \"right\": 3 };\n  if (typeof obt.Direction == \"number\" && obt.Direction) this.Direction = obt.Direction;\n  if (typeof obt.Direction == \"string\" && obt.Direction) this.Direction = this.DirectionArray[obt.Direction.toString().toLowerCase()];\n  if (typeof obt.Step == \"number\" && obt.Step) this.Step = obt.Step;\n  if (typeof obt.Width == \"number\" && obt.Width) this.Width = obt.Width;\n  if (typeof obt.Height == \"number\" && obt.Height) this.Height = obt.Height;\n  if (typeof obt.Timer == \"number\" && obt.Timer) this.Timer = obt.Timer;\n  if (typeof obt.DelayTime == \"number\" && obt.DelayTime) this.DelayTime = obt.DelayTime;\n  if (typeof obt.WaitTime == \"number\" && obt.WaitTime) this.WaitTime = obt.WaitTime;\n  if (typeof obt.ScrollStep == \"number\" && obt.ScrollStep) this.ScrollStep = obt.ScrollStep;\n\n  this.ID.style.overflow = this.ID.style.overflowX = this.ID.style.overflowY = \"hidden\";\n  this.ID.noWrap = true;\n  this.IsNotOpera = (navigator.userAgent.toLowerCase().indexOf(\"opera\") == -1);\n  this.Start();\n}\n\nMarquee.prototype.Start = function() {\n  if (this.ID == -1) return;\n  if (this.Width == 0) this.Width = parseInt(this.ID.style.width);\n  if (this.Height == 0) this.Height = parseInt(this.ID.style.height);\n  if (this.Timer < 20) this.Timer = 20;\n  if (this.WaitTime < 800) this.WaitTime = 800;\n  this.HalfWidth = Math.round(this.Width / 2);\n  this.HalfHeight = Math.round(this.Height / 2);\n  this.BakStep = this.Step;\n  this.ID.style.width = this.Width + \"px\";\n  this.ID.style.height = this.Height + \"px\";\n  if (typeof this.ScrollStep != \"number\") this.ScrollStep = this.Direction > 1 ? this.Width : this.Height;\n  var templateLeft = \"<table cellspacing='0' cellpadding='0' style='border-collapse:collapse;display:inline;'><tr><td noWrap=true style='white-space: nowrap;word-break:keep-all;'>MSCLASS_TEMP_HTML</td><td noWrap=true style='white-space: nowrap;word-break:keep-all;'>MSCLASS_TEMP_HTML</td></tr></table>\";\n  var templateTop = \"<table cellspacing='0' cellpadding='0' style='border-collapse:collapse;'><tr><td>MSCLASS_TEMP_HTML</td></tr><tr><td>MSCLASS_TEMP_HTML</td></tr></table>\";\n  var msobj = this;\n  msobj.tempHTML = msobj.ID.innerHTML;\n  if (msobj.Direction <= 1) {\n    msobj.ID.innerHTML = templateTop.replace(/MSCLASS_TEMP_HTML/g, msobj.ID.innerHTML);\n  }\n  else {\n    if (msobj.ScrollStep == 0 && msobj.DelayTime == 0) {\n      msobj.ID.innerHTML += msobj.ID.innerHTML;\n    }\n    else {\n      msobj.ID.innerHTML = templateLeft.replace(/MSCLASS_TEMP_HTML/g, msobj.ID.innerHTML);\n    }\n  }\n  var timer = this.Timer;\n  var delaytime = this.DelayTime;\n  var waittime = this.WaitTime;\n  msobj.StartID = function() { msobj.Scroll() }\n  msobj.Continue = function() {\n    if (msobj.MouseOver == 1) {\n      setTimeout(msobj.Continue, delaytime);\n    }\n    else {\n      clearInterval(msobj.TimerID);\n      msobj.CTL = msobj.Stop = 0;\n      msobj.TimerID = setInterval(msobj.StartID, timer);\n    }\n  }\n\n  msobj.Pause = function() {\n    msobj.Stop = 1;\n    clearInterval(msobj.TimerID);\n    setTimeout(msobj.Continue, delaytime);\n  }\n\n  msobj.Begin = function() {\n    msobj.ClientScroll = msobj.Direction > 1 ? msobj.ID.scrollWidth / 2 : msobj.ID.scrollHeight / 2;\n    if ((msobj.Direction <= 1 && msobj.ClientScroll <= msobj.Height + msobj.Step) || (msobj.Direction > 1 && msobj.ClientScroll <= msobj.Width + msobj.Step)) {\n      msobj.ID.innerHTML = msobj.tempHTML;\n      delete (msobj.tempHTML);\n      return;\n    }\n    delete (msobj.tempHTML);\n    msobj.TimerID = setInterval(msobj.StartID, timer);\n    if (msobj.ScrollStep < 0) return;\n    msobj.ID.onmousemove = function(event) {\n      if (msobj.ScrollStep == 0 && msobj.Direction > 1) {\n        var event = event || window.event;\n        if (window.event) {\n          if (msobj.IsNotOpera) {\n            msobj.EventLeft = event.srcElement.id == msobj.ID.id ? event.offsetX - msobj.ID.scrollLeft : event.srcElement.offsetLeft - msobj.ID.scrollLeft + event.offsetX;\n          }\n          else {\n            msobj.ScrollStep = null;\n            return;\n          }\n        }\n        else {\n          msobj.EventLeft = event.layerX - msobj.ID.scrollLeft;\n        }\n        msobj.Direction = msobj.EventLeft > msobj.HalfWidth ? 3 : 2;\n        msobj.AbsCenter = Math.abs(msobj.HalfWidth - msobj.EventLeft);\n        msobj.Step = Math.round(msobj.AbsCenter * (msobj.BakStep * 2) / msobj.HalfWidth);\n      }\n    }\n    msobj.ID.onmouseover = function() {\n      if (msobj.ScrollStep == 0) return;\n      msobj.MouseOver = 1;\n      clearInterval(msobj.TimerID);\n    }\n    msobj.ID.onmouseout = function() {\n      if (msobj.ScrollStep == 0) {\n        if (msobj.Step == 0) msobj.Step = 1;\n        return;\n      }\n      msobj.MouseOver = 0;\n      if (msobj.Stop == 0) {\n        clearInterval(msobj.TimerID);\n        msobj.TimerID = setInterval(msobj.StartID, timer);\n      }\n    }\n  }\n  setTimeout(msobj.Begin, waittime);\n}\n\nMarquee.prototype.Scroll = function() {\n  switch (this.Direction) {\n    case 0:\n      this.CTL += this.Step;\n      if (this.CTL >= this.ScrollStep && this.DelayTime > 0) {\n        this.ID.scrollTop += this.ScrollStep + this.Step - this.CTL;\n        this.Pause();\n        return;\n      }\n      else {\n        if (this.ID.scrollTop >= this.ClientScroll) {\n          this.ID.scrollTop -= this.ClientScroll;\n        }\n        this.ID.scrollTop += this.Step;\n      }\n      break;\n\n    case 1:\n      this.CTL += this.Step;\n      if (this.CTL >= this.ScrollStep && this.DelayTime > 0) {\n        this.ID.scrollTop -= this.ScrollStep + this.Step - this.CTL;\n        this.Pause();\n        return;\n      }\n      else {\n        if (this.ID.scrollTop <= 0) {\n          this.ID.scrollTop += this.ClientScroll;\n        }\n        this.ID.scrollTop -= this.Step;\n      }\n      break;\n\n    case 2:\n      this.CTL += this.Step;\n      if (this.CTL >= this.ScrollStep && this.DelayTime > 0) {\n        this.ID.scrollLeft += this.ScrollStep + this.Step - this.CTL;\n        this.Pause();\n        return;\n      }\n      else {\n        if (this.ID.scrollLeft >= this.ClientScroll) {\n          this.ID.scrollLeft -= this.ClientScroll;\n        }\n        this.ID.scrollLeft += this.Step;\n      }\n      break;\n\n    case 3:\n      this.CTL += this.Step;\n      if (this.CTL >= this.ScrollStep && this.DelayTime > 0) {\n        this.ID.scrollLeft -= this.ScrollStep + this.Step - this.CTL;\n        this.Pause();\n        return;\n      }\n      else {\n        if (this.ID.scrollLeft <= 0) {\n          this.ID.scrollLeft += this.ClientScroll;\n        }\n        this.ID.scrollLeft -= this.Step;\n      }\n      break;\n  }\n}\n","/**\n * Created by ws on 2018/3/27.\n */\nangular.module('starter.controllers')\n  .service('linkageSelect2Service', [function () {\n    var _this = this;\n    //页面中选择器数量 default : 0\n    _this.globalId = 0;\n    return _this;\n  }])\n\n  .directive('linkageSelect2', ['$timeout', '$ionicScrollDelegate', 'linkageSelect2Service', '$ionicModal',\n    function ($timeout, $ionicScrollDelegate, linkageSelect2Service, $ionicModal) {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/linkageSelect2/page.html',\n      scope: {\n        options: \"=\",\n        callback: \"&\"\n      },\n      link: function (scope) {\n\n        scope.globalId = ++linkageSelect2Service.globalId;\n        // scope.showData = '全部 全部';\n\n        scope.levelOneList = [];\n        scope.levelTwoList = [];\n\n        scope.levelOneTimer = null; //一级滑动定时器\n        scope.levelTwoTimer = null; //二级滑动定时器\n\n        var posi;          //实时滚动位置\n        var lastTimePosi;  //上一次位置\n\n        scope.$watch('options.list', function (newV) {\n          if (newV && scope.options.list.length > 0) {\n            scope.levelOneList = scope.options.list;\n            init();\n          }\n        });\n\n        /*-------------------------------------------------------*/\n        //打开模型\n        scope.openModal = function () {\n          if (scope.modal) {\n            scope.modal.show();\n          } else {\n            $ionicModal.fromTemplateUrl(\n              'directives/linkageSelect2/modal.html',\n              {\n                scope: scope,\n                animation: 'fade-in'\n              }).then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n          }\n        };\n\n        scope.cancelModal = function () {\n          scope.modal.hide();\n        };\n\n        //确定\n        scope.submitValue = function () {\n          scope.showData = scope.levelOneValue.NodeText + ' ' + scope.levelTwoValue.NodeText;\n          scope.options.selectedValues = [];\n          scope.options.selectedValues.push(scope.levelOneValue);\n          scope.options.selectedValues.push(scope.levelTwoValue);\n          scope.modal.hide();\n        };\n        /*-------------------------------------------------------*/\n\n\n        function init() {\n          initLevelOne();\n          initLevelTwo();\n          scope.showData = scope.levelOneValue.NodeText + ' ' + scope.levelTwoValue.NodeText;\n        }\n\n\n        //初始化一级\n        function initLevelOne() {\n          insertBlankData(scope.levelOneList);\n          scope.levelOneValue = scope.levelOneList[2];\n          scope.levelOneValue.selected = true;\n          scope.levelOneIndex = 2;\n        }\n\n        //初始化二级\n        function initLevelTwo() {\n          if (scope.levelOneValue.Children) {\n            scope.levelTwoList = scope.levelOneValue.Children;\n            insertBlankData(scope.levelTwoList);\n            scope.levelTwoValue = scope.levelOneValue.Children[2];\n          } else {\n            scope.levelTwoList = [];\n            insertBlankData(scope.levelTwoList);\n            scope.levelTwoValue = scope.levelTwoList[2];\n          }\n          scope.levelTwoValue.selected = true;\n          scope.levelTwoIndex = 2;\n        }\n\n\n        //滚动触发事件\n        scope.scrollingEvent = function (type) {\n          var opEntity = getOperateEntity(type);\n          var index;\n          if (scope[opEntity.scrollTimer]) {\n            $timeout.cancel(scope[opEntity.scrollTimer]);\n          }\n          if (posi) { lastTimePosi = posi; }\n\n          posi = $ionicScrollDelegate.$getByHandle(opEntity.scrollHandler).getScrollPosition();\n\n          if(lastTimePosi) {\n            if (posi.top > lastTimePosi.top) {\n              index = Math.abs(Math.ceil(posi.top / 30));\n            } else if (posi.top <= lastTimePosi.top) {\n              index = parseInt(posi.top / 30);\n            }\n          }\n          if (posi.top == index * 30) {\n            updateSelect(index + 2, type);\n          } else {\n            scope[opEntity.scrollTimer] = $timeout(function () {\n              posi.top = index * 30;\n              updateSelect(index + 2, type);\n              scrollToPosi($ionicScrollDelegate.$getByHandle(opEntity.scrollHandler), posi);\n            }, 200);\n          }\n        };\n\n\n        //点击Event\n        scope.selectEvent = function (type, index) {\n          var opEntity = getOperateEntity(type);\n          var nowPosi = {};\n          if(index < 2 || index >= scope[opEntity.data].length -2){\n            return;\n          }\n          nowPosi.top = (index -2) * 30;\n          nowPosi.left = 0;\n          updateSelect(index, type);\n          scrollToPosi($ionicScrollDelegate.$getByHandle(opEntity.scrollHandler), nowPosi);\n        };\n\n        //获取滚动条详细数据\n        function getOperateEntity(type) {\n          var entity = new Object();\n\n          switch (type) {\n            case 'levelOne':\n              entity.scrollTimer = 'levelOneTimer';\n              entity.type = type;\n              entity.scrollHandler = 'levelOneScroll_' + scope.globalId;\n              entity.data = 'levelOneList';\n              break;\n            case 'levelTwo':\n              entity.scrollTimer = 'levelTwoTimer';\n              entity.type = type;\n              entity.scrollHandler = 'levelTwoScroll_' + scope.globalId;\n              entity.data = 'levelTwoList';\n              break;\n          }\n          return entity;\n        }\n\n\n        //更新选中的内容\n        function updateSelect(index, type) {\n          switch (type) {\n            case \"levelOne\":\n              //强制\n              $timeout(function () {\n                scope.levelOneValue.selected = false;\n                scope.levelOneList[index].selected = true;\n                scope.levelOneIndex = index;\n                scope.levelOneValue = scope.levelOneList[index];\n              });\n              break;\n            case \"levelTwo\":\n              //强制\n              $timeout(function () {\n                scope.levelTwoValue.selected = false;\n                scope.levelTwoList[index].selected = true;\n                scope.levelTwoIndex = index;\n                scope.levelTwoValue = scope.levelTwoList[index];\n              });\n              break;\n          }\n        }\n\n        scope.$watch('levelOneIndex', function (newV, oldV) {\n          if (newV != oldV) {\n              scope.levelTwoList = scope.levelOneList[newV].Children;\n            initLevelTwo();\n            scope.levelTwoValue.selected = false;\n            scope.levelTwoIndex = 2;\n            scope.levelTwoValue = scope.levelTwoList[2];\n            scope.levelTwoValue.selected = true;\n            scrollToPosi($ionicScrollDelegate.$getByHandle('levelTwoScroll_' + scope.globalId), {top:0,left:0});\n          }\n        });\n\n        //在数据列表前后插入俩个空数据\n        function insertBlankData(arr) {\n          if (arr[0] == '' && arr[1] == '') {\n            return;\n          } else {\n            arr.unshift('');\n            arr.unshift('');\n            arr.push('');\n            arr.push('');\n          }\n        }\n\n        //滑动到指定位置\n        function scrollToPosi(scorllHandler, posi) {\n          scorllHandler && scorllHandler.scrollTo(posi.left, posi.top, true);\n        }\n\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2017/11/24.\n */\nangular.module('starter.controllers')\n  .service('linkageSelectService', [function () {\n    var _this = this;\n    //页面中选择器数量 default : 0\n    _this.globalId = 0;\n    return _this;\n  }])\n\n  .directive('linkageSelect', ['$timeout', '$ionicScrollDelegate', 'linkageSelectService', '$ionicModal', function ($timeout, $ionicScrollDelegate, linkageSelectService, $ionicModal) {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/linkageSelect/page.html',\n      scope: {\n        options: \"=\",\n        callback: \"&\"\n      },\n      link: function (scope) {\n\n        scope.globalId = ++linkageSelectService.globalId;\n        scope.showData = '全部 全部 全部';\n\n        scope.$watch('options.list', function (newV) {\n          if (newV && scope.options.list.length > 0) {\n            scope.levelOneList = scope.options.list;\n            init();\n          }\n        });\n\n\n        scope.levelTwoList = [];\n        scope.levelThreeList = [];\n\n\n        scope.levelOneTimer = null; //一级滑动定时器\n        scope.levelTwoTimer = null; //二级滑动定时器\n        scope.levelThreeTimer = null; //三级滑动定时器\n\n\n        /*-------------------------------------------------------*/\n        //打开模型\n        scope.openModal = function () {\n          if (scope.modal) {\n            scope.modal.show();\n          } else {\n            $ionicModal.fromTemplateUrl(\n              'directives/linkageSelect/modal.html',\n              {\n                scope: scope,\n                animation: 'fade-in'\n              }).then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n          }\n        };\n\n        scope.cancelModal = function () {\n          scope.modal.hide();\n        };\n\n        //确定\n        scope.submitValue = function () {\n          scope.showData = scope.levelOneValue.NodeText + ' ' + scope.levelTwoValue.NodeText + ' ' + scope.levelThreeValue.NodeText;\n          scope.options.selectedValues = [];\n          scope.options.selectedValues.push(scope.levelOneValue);\n          scope.options.selectedValues.push(scope.levelTwoValue);\n          scope.options.selectedValues.push(scope.levelThreeValue);\n          scope.modal.hide();\n        };\n        /*-------------------------------------------------------*/\n\n\n        function init() {\n          initLevelOne();\n          initLevelTwo();\n          initLevelThree();\n        }\n\n\n        //初始化一级\n        function initLevelOne() {\n\n          insertBlankData(scope.levelOneList);\n          scope.levelOneValue = scope.levelOneList[2];\n          scope.levelOneValue.selected = true;\n          scope.levelOneIndex = 2;\n\n          // console.log(scope.levelOneList);\n        }\n\n        //初始化二级\n        function initLevelTwo() {\n          insertBlankData(scope.levelTwoList);\n          // console.log(scope.levelTwoList);\n          if (scope.levelOneValue.Children) {\n            scope.levelTwoValue = scope.levelOneValue.Children[2];\n          } else {\n            scope.levelTwoValue = scope.levelTwoList[2];\n          }\n          scope.levelTwoValue.selected = true;\n          scope.levelTwoIndex = 2;\n        }\n\n        //初始化三级\n        function initLevelThree() {\n          insertBlankData(scope.levelThreeList);\n          if (scope.levelTwoValue.Children) {\n            scope.levelThreeValue = scope.levelTwoValue.Children[2];\n          } else {\n            scope.levelThreeValue = scope.levelThreeList[2];\n          }\n          scope.levelThreeValue.selected = true;\n          scope.levelThreeIndex = 2;\n        }\n\n        var posi;          //实时滚动位置\n        var lastTimePosi;  //上一次位置\n\n        //滚动触发事件\n        scope.scrollingEvent = function (type) {\n          var opEntity = getOperateEntity(type);\n\n          if (scope[opEntity.scrollTimer]) {\n            $timeout.cancel(scope[opEntity.scrollTimer]);\n          }\n\n          if (posi) {\n            lastTimePosi = posi;\n          }\n\n          posi = $ionicScrollDelegate.$getByHandle(opEntity.scrollHandler).getScrollPosition();\n\n          var index;\n          if(lastTimePosi) {\n            if (posi.top > lastTimePosi.top) {\n              index = Math.abs(Math.ceil(posi.top / 30));\n            } else if (posi.top <= lastTimePosi.top) {\n              index = parseInt(posi.top / 30);\n            }\n          }\n\n          // var index = Math.abs(Math.round(posi.top / 30));\n          // console.log(posi, index);\n          if (posi.top == index * 30) {\n            updateSelect(index + 2, type);\n          } else {\n            scope[opEntity.scrollTimer] = $timeout(function () {\n              posi.top = index * 30;\n              updateSelect(index + 2, type);\n              scrollToPosi($ionicScrollDelegate.$getByHandle(opEntity.scrollHandler), posi);\n            }, 200);\n          }\n        };\n\n\n        //点击Event\n        scope.selectEvent = function (type, index) {\n          var opEntity = getOperateEntity(type);\n\n          if(index < 2 || index >= scope[opEntity.data].length -2){\n            return;\n          }\n\n\n            var nowPosi = {};\n          nowPosi.top = (index -2) * 30;\n          nowPosi.left = 0;\n          updateSelect(index, type);\n          scrollToPosi($ionicScrollDelegate.$getByHandle(opEntity.scrollHandler), nowPosi);\n        };\n\n        //获取滚动条详细数据\n        function getOperateEntity(type) {\n          var entity = new Object();\n\n          switch (type) {\n            case 'levelOne':\n              entity.scrollTimer = 'levelOneTimer';\n              entity.type = type;\n              entity.scrollHandler = 'levelOneScroll_' + scope.globalId;\n              entity.data = 'levelOneList';\n\n              break;\n            case 'levelTwo':\n              entity.scrollTimer = 'levelTwoTimer';\n              entity.type = type;\n              entity.scrollHandler = 'levelTwoScroll_' + scope.globalId;\n              entity.data = 'levelTwoList';\n              break;\n            case 'levelThree':\n              entity.scrollTimer = 'levelThreeTimer';\n              entity.type = type;\n              entity.scrollHandler = 'levelThreeScroll_' + scope.globalId;\n              entity.data = 'levelThreeList';\n              break;\n          }\n\n          return entity;\n        }\n\n\n        //更新选中的内容\n        function updateSelect(index, type) {\n          switch (type) {\n            case \"levelOne\":\n              //强制\n              $timeout(function () {\n                scope.levelOneValue.selected = false;\n                scope.levelOneList[index].selected = true;\n                scope.levelOneIndex = index;\n                scope.levelOneValue = scope.levelOneList[index];\n              });\n              break;\n            case \"levelTwo\":\n              //强制\n              $timeout(function () {\n                scope.levelTwoValue.selected = false;\n                scope.levelTwoList[index].selected = true;\n                scope.levelTwoIndex = index;\n                scope.levelTwoValue = scope.levelTwoList[index];\n                // console.log(scope.levelTwoIndex,scope.levelTwoValue);\n\n              });\n              break;\n            case \"levelThree\":\n              //强制\n              $timeout(function () {\n                scope.levelThreeValue.selected = false;\n                scope.levelThreeList[index].selected = true;\n                scope.levelThreeIndex = index;\n                scope.levelThreeValue = scope.levelThreeList[index];\n                // console.log(scope.levelThreeValue);\n              });\n              break;\n\n          }\n        }\n\n\n        scope.$watch('levelOneIndex', function (newV, oldV) {\n          if (newV != oldV) {\n            if (newV != 2) {  //不是选择全部的时候\n              scope.levelTwoList = scope.levelOneList[newV].Children;\n            } else {\n              scope.levelTwoList = [];\n            }\n            initLevelTwo();\n            scope.levelTwoValue.selected = false;\n            scope.levelTwoIndex = 2;\n            scope.levelTwoValue = scope.levelTwoList[2];\n            scope.levelTwoValue.selected = true;\n            scrollToPosi($ionicScrollDelegate.$getByHandle('levelTwoScroll_' + scope.globalId), {top:0,left:0});\n          }\n        });\n\n        scope.$watch('levelTwoIndex', function (newV, oldV) {\n          if (newV != oldV) {\n            if (newV != 2) { //不是选择全部的时候\n              scope.levelThreeList = scope.levelTwoList[newV].Children;\n            } else {\n              scope.levelThreeList = [];\n            }\n            initLevelThree();\n            scope.levelThreeValue.selected = false;\n            scope.levelThreeIndex = 2;\n            scope.levelThreeValue = scope.levelThreeList[2];\n            scope.levelThreeValue.selected = true;\n            scrollToPosi($ionicScrollDelegate.$getByHandle('levelThreeScroll_' + scope.globalId), {top:0,left:0});\n          }\n        });\n\n        //在数据列表前后插入俩个空数据\n        function insertBlankData(arr) {\n          if (arr[0] == '' && arr[1] == '' && arr[2].NodeText == '全部') {\n            return;\n          } else {\n            arr.unshift({NodeText: '全部'});\n            arr.unshift('');\n            arr.unshift('');\n            arr.push('');\n            arr.push('');\n          }\n        }\n\n        //滑动到指定位置\n        function scrollToPosi(scorllHandler, posi) {\n          scorllHandler && scorllHandler.scrollTo(posi.left, posi.top, true);\n        }\n\n\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2018/4/4.\n */\nangular.module('starter.controllers')\n  .directive('multipleSelect',['$ionicModal','$ionicScrollDelegate',function ($ionicModal,$ionicScrollDelegate) {\n    return {\n      restrict: 'A',\n      // templateUrl: 'directives/multipleSelect/page.html',\n      scope: {\n        options: \"=\",\n        msCallback:'&'\n      },\n      link: function (scope,element) {\n\n        //打开模型\n        element.on('click', function (e) {\n          $ionicModal.fromTemplateUrl(\n            'directives/multipleSelect/modal.html',\n            {\n              scope: scope,\n              animation: 'fade-in'\n            }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        });\n\n        //选择item\n        scope.seletedItem = function (data) {\n          if(data.checked === undefined){\n            data.checked = true;\n          }else{\n            data.checked = !data.checked;\n          }\n        };\n\n        scope.btnCancel = function () {\n          scope.modal.hide();\n          scope.modal.remove();\n        };\n\n        scope.btnOk = function () {\n          scope.options.value = [];\n          if(scope.options.attrName) {\n            scope.options.list.forEach(function (each) {\n              if(each.checked){\n                scope.options.value.push(each);\n              }\n            });\n          }\n          scope.msCallback();\n          scope.btnCancel();\n        };\n\n      }\n    }\n  }]);\n","/**\n * Created by Administrator on 2017/2/21 0021.\n */\nangular.module('starter.controllers')\n  .directive('monthOption', [ '$filter', function ( $filter) {\n    return {\n      restrict: 'E',\n      replace: true,\n      scope: {\n        mapTime: '&',\n      },\n      templateUrl: 'directives/monthOption/page.html',\n      link: function (scope) {\n\n        var now = new Date();\n        scope.thisYear = now.getYear() + 1900;\n        scope.thisMonth = now.getMonth()+1;\n\n\n        scope.canAdd = false;\n\n        scope.$watch('state.reset', function (nVal) {\n          if (nVal) {\n            scope.timeType = scope.yearOrMonth;\n            now = new Date();\n            scope.nowData = $filter('date')(now, 'yyyy/MM');\n          }\n        });\n\n        scope.setTime = function (side) {\n          if(side == -1){\n            if(scope.thisMonth >1){\n              scope.thisMonth--;\n            }else{\n              scope.thisYear--;\n              scope.thisMonth = 12;\n            }\n          }else{\n            if(scope.thisMonth < 12){\n              scope.thisMonth++;\n            }else{\n              scope.thisYear++;\n              scope.thisMonth = 1;\n            }\n          }\n          scope.mapTime({thisYear: scope.thisYear, thisMonth: scope.thisMonth});\n        };\n      }\n    }\n  }]);\n","/**\n * Created by ws on 2017/12/8.\n */\nangular.module('starter.controllers')\n  .directive('multipleSelectBox',['$ionicModal','$ionicScrollDelegate',function ($ionicModal,$ionicScrollDelegate) {\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/multipleSelectBox/page.html',\n      scope: {\n        options: \"=\"\n      },\n      link: function (scope) {\n\n        scope.$watch('options.list',function (newV) {\n          if(newV && scope.options.list.length>0) {\n            if(!!scope.options.value){\n              scope.seletedFont = '';\n              for(var i=0;i<scope.options.list.length;i++){\n                for(var j=0;j<scope.options.value.length;j++){\n                  if(scope.options.list[i][scope.options.attrName] == scope.options.value[j][scope.options.attrName]){\n                    scope.options.list[i].checked = true;\n                  }\n                  if(scope.seletedFont == ''){\n                    scope.seletedFont += scope.options.value[j][scope.options.attrName];\n                  }else{\n                    scope.seletedFont += '、';\n                    scope.seletedFont += scope.options.value[j][scope.options.attrName];\n                  }\n                }\n              }\n            }else{\n              scope.options.value = [];\n              scope.options.value.push(scope.options.list[0]);\n              scope.options.list[0].checked = true;\n              scope.seletedFont = scope.options.list[0][scope.options.attrName];\n            }\n          }\n        });\n\n        scope.clearInfo = function () {\n          scope.options.selectKey = '';\n        };\n\n        //打开模型\n        scope.openModal = function () {\n          $ionicModal.fromTemplateUrl(\n            'directives/multipleSelectBox/modal.html',\n            {\n              scope: scope,\n              animation: 'fade-in'\n            }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n            // eleScrollTo();\n          });\n        };\n\n        //选择item\n        scope.seletedItem = function (data) {\n          if(data.checked === undefined){\n            data.checked = true;\n          }else{\n            data.checked = !data.checked;\n          }\n        };\n\n        scope.btnCancel = function () {\n          scope.modal.hide();\n          scope.modal.remove();\n        };\n\n        scope.btnOK = function () {\n          scope.seletedFont = '';\n          scope.options.value = [];\n          if(scope.options.attrName) {\n            scope.options.list.forEach(function (each) {\n              if(each.checked){\n                scope.options.value.push(each);\n                if(scope.seletedFont == ''){\n                  scope.seletedFont += each[scope.options.attrName];\n                }else{\n                  scope.seletedFont += '、';\n                  scope.seletedFont += each[scope.options.attrName];\n                }\n              }\n            });\n          }\n\n          scope.btnCancel();\n        };\n\n      }\n    }\n  }]);\n","/**\n * Created by ws on 2018/8/23.\n */\nangular.module('starter.directives')\n  .directive('myCalendar',['CalenderService',function (CalenderService) {\n    return {\n      restrict: 'E',\n      scope: {\n        resultCallback:'&'\n\n      },\n      templateUrl: 'directives/mycalendar/page.html',\n      link: function (scope) {\n\n        scope.thisMonthDate = [];\n\n        var nowDate = new Date();\n        var thisYear = nowDate.getYear();\n        var thisMonth = nowDate.getMonth()+1;\n        var thisDate = nowDate.getDate();\n\n        scope.thisMonthDate = CalenderService.initCalendar(thisYear, thisMonth, thisDate);\n        console.log(scope.thisMonthDate);\n\n        scope.resultCallback({MonthDate:scope.thisMonthDate});\n\n\n        scope.timeCause = function (year, month) {\n          scope.thisMonthDate = CalenderService.initCalendar(year-1900, month, thisDate);\n          console.log(scope.thisMonthDate);\n          scope.resultCallback({MonthDate:scope.thisMonthDate});\n        };\n\n\n        scope.selectDate = function (date) {\n          date.askForLeave = !date.askForLeave;\n          scope.resultCallback({MonthDate:scope.thisMonthDate});\n        };\n\n      }\n    }\n  }]);\n","/**\n * Created by ws on 2017/3/14.\n */\nangular.module('starter.controllers')\n  .directive('progressBar',[function () {\n    return {\n      restrict : 'E',\n      templateUrl : 'directives/progressBar/progressBar.html',\n      scope : {\n        progress :'='\n      },\n      link : function (scope) {\n        console.log(2131213);\n        // scope.progressPercent = {width:scope.progress.data};\n      }\n    }\n  }])\n;\n","/**\n * Created by ws on 2017/2/17.\n */\nangular.module('starter.controllers')\n  .directive('selectBox',['$ionicModal','$ionicScrollDelegate',function ($ionicModal,$ionicScrollDelegate) {\n    return {\n      restrict : 'E',\n      templateUrl : 'directives/selectBox/selectBox.html',\n      scope: {\n        options: \"=\",\n        callback:\"&\"\n      },\n      link : function (scope) {\n\n        scope.$watch('options.list',function (newV) {\n          if(newV && scope.options.list.length>0) {\n            if(!!scope.options.value){\n              scope.options.index = getIndex(scope.options.list,scope.options.value);\n            }\n            if(!scope.options.index){\n              scope.options.index = 0;\n              scope.options.value = scope.options.list[0];\n            }\n            if(scope.options.attrName) {\n              scope.seletedFont = scope.options.list[scope.options.index][scope.options.attrName];\n            }else{\n              scope.seletedFont = scope.options.list[scope.options.index];\n            }\n            scope.selectId = scope.options.index;\n          }\n        });\n\n        scope.seletedItem = function (index) {\n          scope.selectId = index;\n          scope.options.index = index;\n          scope.options.value =  scope.options.list[index];\n          if(scope.options.attrName) {\n            scope.seletedFont = scope.options.list[index][scope.options.attrName];\n          }else{\n            scope.seletedFont = scope.options.list[index];\n          }\n          scope.closeModel();\n          if(scope.callback instanceof Function){\n            scope.callback({value:scope.options.list[index]});\n          }\n        };\n\n\n        //打开模型\n         scope.openModal = function () {\n          $ionicModal.fromTemplateUrl(\n            'directives/selectBox/model.html',\n            {\n            scope: scope,\n            animation: 'fade-in'\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n            eleScrollTo();\n          });\n        }\n\n\n        function eleScrollTo() {\n          if(scope.options.index > 7) {\n            var top = (scope.options.index - 3) * 40;\n            $ionicScrollDelegate.$getByHandle('scorllHandler').scrollTo(0, top, true);\n          }\n        }\n\n        //关闭模型\n        scope.closeModel = function () {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n        //根据value寻找index\n        function getIndex(arr,obj) {\n          if(obj) {\n            for (var i = 0; i < arr.length; i++) {\n              if(!!scope.options.attrName) {\n                if (arr[i][scope.options.attrName] == obj[scope.options.attrName]) {\n                  return i;\n                }\n              }else{\n                if (arr[i] == obj) {\n                  return i;\n                }\n              }\n            }\n          }\n          return 0;\n        };\n\n      }\n    }\n  }])\n;\n","/**\n * Created by ws on 2018/3/12.\n */\nangular.module('starter.directives')\n  .directive('voiceItems', ['$interval', '$timeout', 'fsUtil', function ($interval, $timeout, fsUtil) {\n\n    return {\n      restrict: 'E',\n      templateUrl: 'directives/voiceItems/page.html',\n      scope: {\n        voiceList: '=',\n        canDelete: '@',\n        voiceUrl: '@',\n        voiceTime: '@',\n        deleteHandler: '&'\n      },\n      link: function (scope) {\n\n        var voiceInterval;\n        var mediaRec;\n        if (!scope.voiceUrl) {\n          scope.voiceUrl = 'Url';\n        }\n        if (!scope.voiceTime) {\n          scope.voiceTime = 'Mins';\n        }\n\n        initRecord();\n\n        function initRecord() {\n          scope.$watch('voiceList', function (newV, oldV) {\n            if (newV && newV.length > 0) {\n              scope.voiceList.forEach(function (each) {\n                each.eachVoiceWidth = {width: 55 + each[scope.voiceTime] * 5 + 'px'}\n              })\n            }\n          });\n        }\n\n        /**\n         * 播放本条语音的动画\n         * */\n        scope.playVoice = function (data, index) {\n          if (voiceInterval) {\n            $interval.cancel(voiceInterval);\n          }\n          //停止其它语音\n          for (var j = 0; j < scope.voiceList.length; j++) {\n            scope.voiceList[j].haoroomsStyle = {\"background-position\": \"0px 0px\"};\n          }\n          //播放本条语音\n          var i = 0;\n          var divParent = document.getElementById(\"divParent\" + index);\n          voiceInterval = $interval(frameAnmi, 300);\n\n          function frameAnmi() {\n            if (i > 4) {\n              i = 0;\n            }\n            data.haoroomsStyle = {\"background-position\": \"-\" + i * 20 + \"px 0px\"};\n            i++;\n          }\n\n          playThisVoice(data[scope.voiceUrl]);\n          // //语音播放完之后动画停止\n          $timeout(function () {\n            if (voiceInterval) {\n              $interval.cancel(voiceInterval);\n            }\n            data.haoroomsStyle = {\"background-position\": \"0px 0px\"};\n          }, data[scope.voiceTime] * 1000);\n        };\n\n        /**\n         * 播放音频文件\n         * */\n        function playThisVoice(src) {\n          if (mediaRec) {\n            mediaRec.stop();\n            mediaRec.release();\n          }\n          mediaRec = new Media(src,\n            // success callback\n            function () {\n              console.log(\"recordAudio():Audio Success\");\n            },\n            // error callback\n            function (err) {\n              console.log(\"recordAudio():Audio Error: \" + err.code);\n            });\n          mediaRec.play();\n        }\n\n        /**\n         * 删除本条语音\n         * */\n        scope.deleteRecord = function (data, index) {\n          scope.voiceList.splice(index, 1);\n          if (scope.deleteHandler) {   //回调处理\n            scope.deleteHandler({file: data[scope.voiceUrl]});\n          } else {    //本地文件\n            fsUtil.deleteFile(data[scope.voiceUrl]);\n          }\n        };\n\n      }\n    }\n\n  }]);\n","/**\n * Created by ws on 2018/8/6.\n */\nangular.module('starter.controllers')\n  .controller('baseSelectCtrl', [\"$scope\", function ($scope) {\n\n    $scope.options = {\n      title: '请选择',\n      list: [{name: 'test1'}, {name: 'test2'}, {name: 'test3'}, {name: 'test4'}, {name: 'test5'}, {name: 'test6'}, {name: 'test7'}],\n      attrName: 'name'\n    };\n\n    $scope.options1 = {\n      title: '选择项目',\n      list: [{name: '哈哈哈哈'}, {name: '遂宁市'}, {name: '是实打实的'}, {name: '试试'}, {name: '试试1'}, {name: '试试2'}, {name: '少时诵诗书'}],\n      attrName: 'name'\n    };\n\n    $scope.options2 = {\n      list: [\n        {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"001\",\n          \"NodeText\": \"东北地区\",\n          \"Children\": [\n            {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"001001\",\n              \"NodeText\": \"沈阳市\",\n              \"Children\": []\n            },\n            {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"001002\",\n              \"NodeText\": \"大连市\",\n              \"Children\": [{\n                \"ProjectCode\": null,\n                \"NodeCode\": \"001002004\",\n                \"NodeText\": \"甘井子区\",\n                \"Children\": []\n              }]\n            }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"002\",\n          \"NodeText\": \"华北地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"002001\",\n            \"NodeText\": \"北京市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"002001003\",\n              \"NodeText\": \"朝阳区\",\n              \"Children\": []\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"002002\",\n            \"NodeText\": \"天津市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"002002003\",\n              \"NodeText\": \"河东区\",\n              \"Children\": []\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"003\",\n          \"NodeText\": \"华中地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"003001\",\n            \"NodeText\": \"武汉市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"003001007\",\n              \"NodeText\": \"洪山区\",\n              \"Children\": []\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"004\",\n          \"NodeText\": \"华东地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004001\",\n            \"NodeText\": \"上海市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004001014\",\n              \"NodeText\": \"青浦区\",\n              \"Children\": []\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004002\",\n            \"NodeText\": \"杭州市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004002007\",\n              \"NodeText\": \"萧山区\",\n              \"Children\": []\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004003\",\n            \"NodeText\": \"南京市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004003003\",\n              \"NodeText\": \"建邺区\",\n              \"Children\": []\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004004\",\n            \"NodeText\": \"烟台市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004004004\",\n              \"NodeText\": \"莱山区\",\n              \"Children\": [{\n                \"ProjectCode\": 51122,\n                \"NodeCode\": \"004004004-51122\",\n                \"NodeText\": \"烟台金地澜悦\",\n                \"Children\": []\n              }]\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"005\",\n          \"NodeText\": \"华南地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"005001\",\n            \"NodeText\": \"深圳市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001001\",\n              \"NodeText\": \"南山区\",\n              \"Children\": [{\n                \"ProjectCode\": 7,\n                \"NodeCode\": \"005001001-7\",\n                \"NodeText\": \"亿达别苑\",\n                \"Children\": []\n              }, {\"ProjectCode\": 396, \"NodeCode\": \"005001001-396\", \"NodeText\": \"深圳金地国际公寓\", \"Children\": []}]\n            }, {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001002\",\n              \"NodeText\": \"福田区\",\n              \"Children\": [{\n                \"ProjectCode\": 9,\n                \"NodeCode\": \"005001002-9\",\n                \"NodeText\": \"深圳金海湾花园\",\n                \"Children\": []\n              }, {\"ProjectCode\": 12, \"NodeCode\": \"005001002-12\", \"NodeText\": \"深圳金地翠堤湾\", \"Children\": []}]\n            }, {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001007\",\n              \"NodeText\": \"龙华区\",\n              \"Children\": []\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"005003\",\n            \"NodeText\": \"佛山市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005003003\",\n              \"NodeText\": \"顺德区\",\n              \"Children\": []\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"007\",\n          \"NodeText\": \"西北地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"007001\",\n            \"NodeText\": \"西安市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"007001006\",\n              \"NodeText\": \"雁塔区\",\n              \"Children\": []\n            }]\n          }]\n        }],\n      title: '项目范围选择',\n      levelOneAttr: 'NodeText',\n      levelTwoAttr: 'NodeText'\n    };\n\n    $scope.options3 = {\n      list: [\n        {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"001\",\n          \"NodeText\": \"东北地区\",\n          \"Children\": [\n            {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"001001\",\n              \"NodeText\": \"沈阳市\",\n              \"Children\": [\n                {\n                  \"ProjectCode\": null,\n                  \"NodeCode\": \"001001006\",\n                  \"NodeText\": \"浑南区\",\n                  \"Children\": [{\n                    \"ProjectCode\": 395,\n                    \"NodeCode\": \"001001006-395\",\n                    \"NodeText\": \"沈阳金地长青湾\",\n                    \"Children\": []\n                  }]\n                }\n              ]\n            },\n            {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"001002\",\n              \"NodeText\": \"大连市\",\n              \"Children\": [{\n                \"ProjectCode\": null,\n                \"NodeCode\": \"001002004\",\n                \"NodeText\": \"甘井子区\",\n                \"Children\": [{\"ProjectCode\": 394, \"NodeCode\": \"001002004-394\", \"NodeText\": \"大连金地艺境\", \"Children\": []}]\n              }]\n            }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"002\",\n          \"NodeText\": \"华北地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"002001\",\n            \"NodeText\": \"北京市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"002001003\",\n              \"NodeText\": \"朝阳区\",\n              \"Children\": [{\"ProjectCode\": 393, \"NodeCode\": \"002001003-393\", \"NodeText\": \"北京金地国际花园\", \"Children\": []}]\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"002002\",\n            \"NodeText\": \"天津市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"002002003\",\n              \"NodeText\": \"河东区\",\n              \"Children\": [{\"ProjectCode\": 385, \"NodeCode\": \"002002003-385\", \"NodeText\": \"天津金地紫乐府\", \"Children\": []}]\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"003\",\n          \"NodeText\": \"华中地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"003001\",\n            \"NodeText\": \"武汉市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"003001007\",\n              \"NodeText\": \"洪山区\",\n              \"Children\": [{\"ProjectCode\": 388, \"NodeCode\": \"003001007-388\", \"NodeText\": \"武汉金地圣爱米伦\", \"Children\": []}]\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"004\",\n          \"NodeText\": \"华东地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004001\",\n            \"NodeText\": \"上海市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004001014\",\n              \"NodeText\": \"青浦区\",\n              \"Children\": [{\"ProjectCode\": 390, \"NodeCode\": \"004001014-390\", \"NodeText\": \"上海金地天御\", \"Children\": []}]\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004002\",\n            \"NodeText\": \"杭州市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004002007\",\n              \"NodeText\": \"萧山区\",\n              \"Children\": [{\"ProjectCode\": 389, \"NodeCode\": \"004002007-389\", \"NodeText\": \"杭州金地天逸\", \"Children\": []}]\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004003\",\n            \"NodeText\": \"南京市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004003003\",\n              \"NodeText\": \"建邺区\",\n              \"Children\": [{\"ProjectCode\": 391, \"NodeCode\": \"004003003-391\", \"NodeText\": \"南京金地名京\", \"Children\": []}]\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"004004\",\n            \"NodeText\": \"烟台市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"004004004\",\n              \"NodeText\": \"莱山区\",\n              \"Children\": [{\n                \"ProjectCode\": 51122,\n                \"NodeCode\": \"004004004-51122\",\n                \"NodeText\": \"烟台金地澜悦\",\n                \"Children\": []\n              }]\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"005\",\n          \"NodeText\": \"华南地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"005001\",\n            \"NodeText\": \"深圳市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001001\",\n              \"NodeText\": \"南山区\",\n              \"Children\": [{\n                \"ProjectCode\": 7,\n                \"NodeCode\": \"005001001-7\",\n                \"NodeText\": \"亿达别苑\",\n                \"Children\": []\n              }, {\"ProjectCode\": 396, \"NodeCode\": \"005001001-396\", \"NodeText\": \"深圳金地国际公寓\", \"Children\": []}]\n            }, {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001002\",\n              \"NodeText\": \"福田区\",\n              \"Children\": [{\n                \"ProjectCode\": 9,\n                \"NodeCode\": \"005001002-9\",\n                \"NodeText\": \"深圳金海湾花园\",\n                \"Children\": []\n              }, {\"ProjectCode\": 12, \"NodeCode\": \"005001002-12\", \"NodeText\": \"深圳金地翠堤湾\", \"Children\": []}]\n            }, {\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005001007\",\n              \"NodeText\": \"龙华区\",\n              \"Children\": [{\"ProjectCode\": 386, \"NodeCode\": \"005001007-386\", \"NodeText\": \"深圳金地天悦湾\", \"Children\": []}]\n            }]\n          }, {\n            \"ProjectCode\": null,\n            \"NodeCode\": \"005003\",\n            \"NodeText\": \"佛山市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"005003003\",\n              \"NodeText\": \"顺德区\",\n              \"Children\": [{\"ProjectCode\": 387, \"NodeCode\": \"005003003-387\", \"NodeText\": \"佛山金地天玺\", \"Children\": []}]\n            }]\n          }]\n        }, {\n          \"ProjectCode\": null,\n          \"NodeCode\": \"007\",\n          \"NodeText\": \"西北地区\",\n          \"Children\": [{\n            \"ProjectCode\": null,\n            \"NodeCode\": \"007001\",\n            \"NodeText\": \"西安市\",\n            \"Children\": [{\n              \"ProjectCode\": null,\n              \"NodeCode\": \"007001006\",\n              \"NodeText\": \"雁塔区\",\n              \"Children\": [{\"ProjectCode\": 392, \"NodeCode\": \"007001006-392\", \"NodeText\": \"西安湖城大境天第\", \"Children\": []}]\n            }]\n          }]\n        }],\n      title: '项目范围选择',\n      levelOneAttr: 'NodeText',\n      levelTwoAttr: 'NodeText',\n      levelThreeAttr: 'NodeText',\n    };\n\n    $scope.options4 = {\n      title: '请选择原因',\n      list: [{value: 1, Remark: '道行不够'}, {value: 2, Remark: '材料不齐'}, {value: 3, Remark: '缺材料'}, {\n        value: 4,\n        Remark: '其它'\n      }],\n      attrName: 'Remark'\n    };\n\n    $scope.btnOk = function () {\n      console.log('点击成OK', $scope.options4);\n    }\n\n\n\n  }]);\n","/**\n * Created by Administrator on 2018/8/8.\n */\n/**\n * Created by ws on 2018/8/6.\n */\nangular.module('starter.controllers')\n  .controller('geoLocationCtrl', [\"$scope\", \"$interval\", function ($scope,$interval) {\n\n    $scope.position = {\n      latitude:'...',\n      longitude:'...'\n    };\n\n    //获取经纬度\n    $scope.getLatAndLon = function(callback) {\n      var point = {longitude:null,latitude:null};\n      if (ionic.Platform.isAndroid() && window.cordova) {\n        baidumap_location.getCurrentPosition(function (data) {\n          console.log(\"getLatAndLon android success,定位成功\",data);\n          point.longitude  = data.longitude;\n          point.latitude  = data.latitude;\n          callback(point);\n        }, function (err) {\n          // 没有权限进入error code -1\n          console.log(\"getLatAndLon error,手机定位功能未开启(Android)\");\n        });\n      }else{\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(function (position) {\n            console.log(\"(IOS)Latitude: \" + position.coords.latitude + \"Longitude: \" + position.coords.longitude);\n            point.longitude  = position.coords.longitude;\n            point.latitude  = position.coords.latitude;\n            callback(point);\n          })\n        }\n      }\n    };\n\n\n    $scope.getPosition = function () {\n      $scope.position = {\n        latitude:'loading',\n        longitude:'loading'\n      };\n      $scope.getLatAndLon(function (data) {\n        $scope.position = data;\n      })\n    };\n\n  }]);\n","/**\n * Created by ws on 2018/9/17.\n */\nangular.module('starter.controllers')\n  .controller('recordCtrl', [\"$scope\", function ($scope) {\n\n    $scope.describeInfo = {\n      title: '',\n      voiceList: [],\n      photoList: []\n    };\n\n  }]);\n","/**\n * Created by ws on 2018/8/22.\n */\nangular.module('starter.config1', [])\n  .config([\"$stateProvider\", function ($stateProvider,$urlRouterProvider) {\n    $stateProvider\n      .state('tab', {\n        url: '/tab',\n        abstract: true,\n        templateUrl: 'templates/tabs.html'\n      })\n\n      .state('tab.dash', {\n        url: '/dash',\n        views: {\n          'tab-dash': {\n            templateUrl: 'templates/tab-dash.html',\n            controller: 'DashCtrl'\n          }\n        }\n      })\n\n      .state('tab.geoLocation', {\n        url: '/geoLocation',\n        views: {\n          'tab-dash': {\n            templateUrl: 'src/tab1/geolocation/page.html',\n            controller: 'geoLocationCtrl'\n          }\n        }\n      })\n\n      .state('tab.baseSelect', {\n        url: '/baseSelect',\n        views: {\n          'tab-dash': {\n            templateUrl: 'src/tab1/baseSelect/page.html',\n            controller: 'baseSelectCtrl'\n          }\n        }\n      })\n\n      .state('tab.record', {\n        url: '/record',\n        views: {\n          'tab-dash': {\n            templateUrl: 'src/tab1/record/page.html',\n            controller: 'recordCtrl'\n          }\n        }\n      })\n\n    ;\n\n    // if none of the above states are matched, use this as the fallback\n    // $urlRouterProvider.otherwise('/tab/dash');\n  }])\n;\n","/**\n * Created by ws on 2018/8/22.\n */\nangular.module('starter.config2', [])\n  .config([\"$stateProvider\", function ($stateProvider) {\n    $stateProvider\n      .state('tab.chats', {\n        url: '/chats',\n        views: {\n          'tab-chats': {\n            templateUrl: 'templates/tab-chats.html',\n            controller: 'ChatsCtrl'\n          }\n        }\n      })\n  }])\n;\n","/**\n * Created by ws on 2018/8/22.\n */\nangular.module('starter.config3', [])\n  .config([\"$stateProvider\", function ($stateProvider) {\n    $stateProvider\n      .state('tab.account', {\n        url: '/account',\n        views: {\n          'tab-account': {\n            templateUrl: 'templates/tab-account.html',\n            controller: 'AccountCtrl'\n          }\n        }\n      });\n  }])\n;\n"]}